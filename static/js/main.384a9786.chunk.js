(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var a=c(26),s=c.n(a),n=c(9),i=c(4),r=c(1),o=c.n(r),l=c(0),d=o.a.createContext({query:"",activeProduct:null,setQuery:function(){},setActiveProduct:function(){},chosenProducts:[],setChosenProducts:function(){},productsToBuy:[],setProductsToBuy:function(){},loadingItem:null,setLoadingItem:function(){}}),u=function(e){var t=e.children,c=Object(r.useState)(""),a=Object(i.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(null),u=Object(i.a)(o,2),j=u[0],b=u[1],_=Object(r.useState)([]),p=Object(i.a)(_,2),h=p[0],O=p[1],m=Object(r.useState)([]),v=Object(i.a)(m,2),x=v[0],f=v[1],N=Object(r.useState)(null),y=Object(i.a)(N,2),g={query:s,setQuery:n,activeProduct:j,setActiveProduct:b,chosenProducts:h,setChosenProducts:O,productsToBuy:x,setProductsToBuy:f,loadingItem:y[0],setLoadingItem:y[1]};return Object(l.jsx)(d.Provider,{value:g,children:t})},j=c(3),b=c(6),_=c.n(b),p=function(e,t){localStorage.setItem(e,JSON.stringify(t))},h=function(e){return JSON.parse(localStorage.getItem(e))||[]},O=function(e,t){localStorage.setItem(e,JSON.stringify(t))},m=function(e){return JSON.parse(localStorage.getItem(e))||[]},v=function(e){var t=e.filterType,c=e.filterQuery,a=e.updateSearch,s=Object(r.useContext)(d),i=s.query,o=s.setQuery;return Object(r.useMemo)((function(){c&&o(c)}),[c]),Object(l.jsxs)("header",{className:"header",id:"header",children:[Object(l.jsxs)("nav",{className:"header__nav",children:[Object(l.jsxs)("ul",{className:"header__list",children:[Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{className:"header__link",to:"/home",children:Object(l.jsx)("div",{className:"header__image"})})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{className:function(e){var t=e.isActive;return _()("header__link",{"header__link--active":t})},to:"/",children:"HOME"})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{className:function(e){var t=e.isActive;return _()("header__link",{"header__link--active":t})},to:"/phones",children:"PHONES"})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{className:function(e){var t=e.isActive;return _()("header__link",{"header__link--active":t})},to:"/tablets",children:"TABLETS"})}),Object(l.jsx)("li",{children:Object(l.jsx)(n.c,{className:function(e){var t=e.isActive;return _()("header__link",{"header__link--active":t})},to:"/accessories",children:"ACCESSORIES"})})]}),Object(l.jsxs)("div",{className:"header__container",children:[Object(l.jsx)("input",{className:_()("header__filter",{"header__filter--active":""!==t}),type:"text",placeholder:"Search in ".concat(t,"..."),disabled:""===t,value:i,onChange:function(e){o(e.target.value),e.target.value?a({query:e.target.value}):a({query:null})}}),Object(l.jsxs)(n.c,{className:function(e){var t=e.isActive;return _()("header__button header__favourites",{"header__favourites--active":t})},to:"/favourites",children:[Object(l.jsx)("div",{className:"header__stroke"}),m("favourites").length>0&&Object(l.jsx)("div",{className:"header__circle",children:m("favourites").length})]}),Object(l.jsxs)(n.c,{className:function(e){var t=e.isActive;return _()("header__button header__cart",{"header__cart--active":t})},to:"/cart",children:[Object(l.jsx)("div",{className:"header__bag"}),h("toBuy").length>0&&Object(l.jsx)("div",{className:"header__circle",children:h("toBuy").length})]})]})]}),Object(l.jsx)("div",{className:"header__cover"})]})},x=function(e){var t=e.pathname,c=t.split("/");return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsx)("div",{className:"navigation__icon"}),Object(l.jsxs)("div",{className:"navigation__location",children:[Object(l.jsx)("div",{className:"navigation__arrow"}),Object(l.jsx)(n.c,{className:_()("navigation__link",{"navigation__link--active":t.slice(1)===c[1]}),to:"/".concat(c[1]),children:c[1][0].toUpperCase()+c[1].slice(1)}),void 0!==c[2]&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"navigation__arrow"}),Object(l.jsx)("div",{className:_()("navigation__link",{"navigation__link--active":t.split("/")[2]===c[2]}),children:c[2][0].toUpperCase()+c[2].slice(1)})]})]})]})},f=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=function(e,t,s){a(c===t?e:c+s)};return Object(r.useEffect)((function(){var e=setInterval((function(){a((function(e){return 3===e?1:e+1}))}),5e3);return function(){return clearTimeout(e)}}),[c]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"slider slider--photos",children:[Object(l.jsx)("button",{type:"button","aria-label":"Scroll left",className:"slider__button slider__button--photos",onClick:function(){return s(3,1,-1)}}),Object(l.jsx)("div",{className:"slider__container",children:[1,2,3].map((function(e){return Object(l.jsx)("div",{className:_()("slider__photo",{"slider__photo--active":e===c})})}))}),Object(l.jsx)("button",{type:"button","aria-label":"Scroll right",className:"slider__button slider__button--photos",onClick:function(){return s(1,3,1)}})]}),Object(l.jsxs)("div",{className:"slider__indicator_container",children:[Object(l.jsx)("div",{className:_()("slider__indicator",{"slider__indicator--active":1===c})}),Object(l.jsx)("div",{className:_()("slider__indicator",{"slider__indicator--active":2===c})}),Object(l.jsx)("div",{className:_()("slider__indicator",{"slider__indicator--active":3===c})})]})]})},N=c(7),y=c(8),g=c(5),k=c.n(g),S=(c(33),function(){return Object(l.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(l.jsx)("div",{className:"Loader__content"})})}),C=function(e){var t=e.product,c=e.favouritesTimeout,a=Object(r.useContext)(d),s=a.setChosenProducts,i=a.setProductsToBuy,o=a.setLoadingItem,u=function(e){var t=!1;return h("toBuy").forEach((function(c){return c.id===e?t=!0:t})),t},j=function(e){var t=!1;return m("favourites").length>0&&m("favourites").map((function(c){return c.id===e?t=!0:t})),t};return t&&Object(l.jsx)(n.b,{className:"product__link",to:"/".concat(t.type,"s/").concat(t.id),onClick:function(){localStorage.setItem("product",JSON.stringify(t))},children:t&&Object(l.jsxs)("div",{className:"product",children:[Object(l.jsx)("img",{className:"product__image",src:t.imageUrl.split("phones").join("products"),alt:"".concat(t.id)}),Object(l.jsx)("h3",{className:"product__title",children:t.name}),Object(l.jsx)("div",{className:"product__price_container",children:0===t.discount?Object(l.jsx)("div",{className:"product__price",children:"$".concat(t.price)}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"product__price",children:"$".concat(t.price-t.price*t.discount/100)}),Object(l.jsx)("div",{className:"product__price product__price--old",children:"$".concat(t.price)})]})}),Object(l.jsx)("div",{className:"product__line"}),Object(l.jsxs)("div",{className:"product__info_container",children:[Object(l.jsx)("div",{className:"product__info",children:"Screen"}),Object(l.jsx)("div",{className:"product__info--value",children:t.screen||"-"})]}),Object(l.jsxs)("div",{className:"product__info_container",children:[Object(l.jsx)("div",{className:"product__info",children:"Capacity"}),Object(l.jsx)("div",{className:"product__info--value",children:t.capacity||"-"})]}),Object(l.jsxs)("div",{className:"product__info_container product__info_container--last",children:[Object(l.jsx)("div",{className:"product__info",children:"RAM"}),Object(l.jsx)("div",{className:"product__info--value",children:t.ram||"-"})]}),Object(l.jsxs)("div",{className:"product__button_container",children:[Object(l.jsx)("button",{type:"button",className:_()("product__button_add",{"product__button_add--active":!0===u(t.id)}),onClick:function(e){return function(e,t){if(e.preventDefault(),!1===u(t.id)){var c=[].concat(Object(N.a)(h("toBuy")),[{id:t.id,quantity:1,item:t}]);p("toBuy",c),i(c)}}(e,t)},children:!0===u(t.id)?"Added to cart":"Add to cart"}),Object(l.jsx)("button",{type:"button","aria-label":"favourites",className:_()("product__button_favourites",{"product__button_favourites--active":j(t.id)}),onClick:function(e){return function(e,t){e.preventDefault();var a=0;if(m("favourites").map((function(e,c){return e.id===t.id&&(a=c),null})),!1===j(t.id)){var n=[].concat(Object(N.a)(m("favourites")),[t]);s(n),O("favourites",n)}else{o(a);var i=[].concat(Object(N.a)(m("favourites").slice(0,a)),Object(N.a)(m("favourites").slice(a+1)));s(i),setTimeout((function(){O("favourites",i),o(null)}),c)}}(e,t)}})]})]})})};C.defaultProps={favouritesTimeout:0};var w="https://mate-academy.github.io/react_phone-catalog/api";function B(e){return new Promise((function(t){setTimeout(t,e)}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),B(300).then((function(){return fetch(w+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var T,q=function(e){return A(e)},P=function(){return q("/products.json")},I=function(e){var t=e.pathname,c=e.title,a=e.dicount,s=e.random,n=Object(r.useState)(0),o=Object(i.a)(n,2),d=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],O=Object(r.useState)(!1),m=Object(i.a)(O,2),v=m[0],x=m[1],f=Object(r.useState)([]),g=Object(i.a)(f,2),w=g[0],B=g[1],A=1188,T=272*w.length+25*(w.length-1),q=function(){var e=Object(y.a)(k.a.mark((function e(){var t,c,n,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),x(!1),e.prev=2,e.next=5,P();case 5:t=e.sent,a&&!s&&B(Object(N.a)(t).filter((function(e){return e.discount>0})).sort((function(e,t){return t.price-t.price*t.discount/100-(e.price-e.price*e.discount/100)}))),a||s||B(Object(N.a)(t).filter((function(e){return e.discount<=0})).sort((function(e,t){return t.price-e.price}))),!a&&s&&(c=[],n=t.length,i=Object(N.a)(Array(n)).map((function(e,t){return t})),Object(N.a)(Array(n)).map((function(){return i.splice(Math.floor(Math.random()*i.length),1)[0]})).map((function(e){return c.push(t[e])})),B(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),x(!1);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){q()}),[t]),Object(l.jsx)("div",{className:"slider slider--phones",children:Object(l.jsxs)("div",{className:"slider__content",children:[Object(l.jsxs)("div",{className:"slider__top",children:[Object(l.jsx)("h2",{className:"slider__subtitle",children:c}),Object(l.jsxs)("div",{className:"slider__button_container",children:[Object(l.jsx)("button",{type:"button","aria-label":"Left scroll",className:_()("slider__button slider__button--phones",{"slider__button--disabled":d>-1}),disabled:d>-1,onClick:function(){u(d+A)}}),Object(l.jsx)("button",{type:"button","aria-label":"Right scroll",className:_()("slider__button slider__button--phones",{"slider__button--disabled":d-A<-T}),disabled:d-A<-T,onClick:function(){if(1163<T){var e=d-A;e-A<=-T&&u(1163-T),u(e)}}})]})]}),p&&Object(l.jsx)(S,{}),v&&Object(l.jsx)("p",{children:"No phones"}),Object(l.jsx)("div",{className:"slider__container",children:Object(l.jsx)("div",{className:"slider__photos slider__photos--phones",style:{transform:"translate(".concat(d,"px, 0)"),transition:"transform 1.2s"},children:!p&&!v&&w.map((function(e){return Object(l.jsx)(C,{product:e})}))})})]})})},F=function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(0),o=Object(i.a)(s,2),d=o[0],u=o[1],j=Object(r.useState)(0),b=Object(i.a)(j,2),_=b[0],p=b[1],h=function(){var e=Object(y.a)(k.a.mark((function e(t,c){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P();case 3:a=e.sent,t(Object(N.a)(a).filter((function(e){return e.type===c})).length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(a,"phone"),h(u,"tablet"),h(p,"accessories")}),[]),Object(l.jsxs)("div",{className:"shopBy",children:[Object(l.jsx)("h2",{className:"shopBy__title",children:"Shop by category"}),Object(l.jsxs)("div",{className:"shopBy__content",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"shopBy__photo_container",children:Object(l.jsx)("div",{className:"shopBy__photo shopBy__photo--phones"})}),Object(l.jsx)(n.b,{className:"shopBy__link",to:"/phones",children:"Mobile phones"}),Object(l.jsxs)("div",{className:"shopBy__text",children:[c,1===c?"model":"models"]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"shopBy__photo_container",children:Object(l.jsx)("div",{className:"shopBy__photo shopBy__photo--tablets"})}),Object(l.jsx)(n.b,{className:"shopBy__link",to:"/tablets",children:"Tablets"}),Object(l.jsxs)("div",{className:"shopBy__text",children:[d,1===d?"model":"models"]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"shopBy__photo_container",children:Object(l.jsx)("div",{className:"shopBy__photo shopBy__photo--accessories"})}),Object(l.jsx)(n.b,{className:"shopBy__link",to:"/accessories",children:"Accessories"}),Object(l.jsxs)("div",{className:"shopBy__text",children:[_,1===_?"model":"models"]})]})]})]})},E=function(e){var t=e.pathname;return Object(l.jsx)("div",{className:"home",children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f,{}),Object(l.jsx)(I,{pathname:t,title:"Hot prices",dicount:!0,random:!1}),Object(l.jsx)(F,{}),Object(l.jsx)(I,{pathname:t,title:"Brand new models",dicount:!1,random:!1})]})})};function L(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}!function(e){e.newest="Newest",e.alphabetically="Alphabetically",e.cheapest="Cheapest"}(T||(T={}));var R,M=function(e){var t=e.productType;return Object(l.jsx)("h2",{className:"noResults",children:"".concat(t," not found")})},G=function(e){var t=e.productType,c=e.pathname,a=e.type,s=e.updateSearch,n=e.page,o=e.perPage,u=e.sort,j=Object(r.useContext)(d).query,b=Object(r.useState)([]),p=Object(i.a)(b,2),h=p[0],O=p[1],m=Object(r.useState)(8),v=Object(i.a)(m,2),x=v[0],f=v[1],g=Object(r.useState)(1),w=Object(i.a)(g,2),B=w[0],A=w[1],q=Object(r.useState)(!1),I=Object(i.a)(q,2),F=I[0],E=I[1],R=Object(r.useState)(!1),G=Object(i.a)(R,2),$=G[0],J=G[1],D=Object(r.useState)("Newest"),U=Object(i.a)(D,2),Q=U[0],H=U[1],z=Object(r.useState)(!1),Y=Object(i.a)(z,2),K=Y[0],V=Y[1],W=Object(r.useState)(!1),X=Object(i.a)(W,2),Z=X[0],ee=X[1],te=Object(N.a)(h),ce=0,ae=Object(N.a)(h),se=function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),ee(!1),e.prev=2,e.next=5,P();case 5:t=e.sent,O(Object(N.a)(t).filter((function(e){return e.type===a}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ee(!1);case 12:return e.prev=12,V(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){A(e)},ie=function(e){H(e),E(!1),s({sort:String(e.toLowerCase()),page:String(1)})},re=function(e){f(e),J(!1),A(1),s({page:String(1),perPage:String(e)})};return Object(r.useEffect)((function(){return se(),s({page:null,perPage:null,sort:null})}),[c]),Object(r.useMemo)((function(){c&&(u&&H(u[0].toUpperCase()+u.slice(1)),n&&A(Number(n)),o&&f(Number(o)),E(!1),J(!1))}),[u,n,o,c]),j&&(te=te.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}))),Q===T.newest&&te.sort((function(e,t){return e.age-t.age})),Q===T.alphabetically&&te.sort((function(e,t){return e.name.localeCompare(t.name)})),Q===T.cheapest&&te.sort((function(e,t){return e.price-t.price})),ce=Math.ceil(te.length/x),ae=Object(N.a)(te).slice(x*B-x,x*B),Object(l.jsxs)("div",{className:"products",children:[Object(l.jsx)("h1",{className:"products__title",children:"".concat(t)}),K&&Object(l.jsx)("div",{className:"products__amount",children:"0 models"}),!K&&!Z&&Object(l.jsx)("div",{className:"products__amount",children:"".concat(h.length," models")}),Object(l.jsxs)("div",{className:"products__filter_container",children:[Object(l.jsxs)("div",{className:"products__filter",children:[Object(l.jsx)("div",{className:"products__text",children:"Sort by"}),Object(l.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){E(!F)},children:Q}),Object(l.jsx)("div",{className:"products__cover"}),Object(l.jsxs)("ul",{className:_()("products__dropdown_list",{"products__dropdown_list--active":F}),children:[Object(l.jsx)("li",{className:"products__dropdown_item ",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return ie(T.newest)},children:"Newest"})}),Object(l.jsx)("li",{className:"products__dropdown_item",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return ie(T.alphabetically)},children:"Alphabetically"})}),Object(l.jsx)("li",{className:"products__dropdown_item",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return ie(T.cheapest)},children:"Cheapest"})})]})]}),Object(l.jsxs)("div",{className:"products__filter",children:[Object(l.jsx)("div",{className:"products__text",children:"Items on page"}),Object(l.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){J(!$)},children:x}),Object(l.jsx)("div",{className:"products__cover"}),Object(l.jsxs)("ul",{className:_()("products__dropdown_list",{"products__dropdown_list--active":$}),children:[Object(l.jsx)("li",{className:"products__dropdown_item",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return re(4)},children:"4"})}),Object(l.jsx)("li",{className:"products__dropdown_item",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return re(8)},children:"8"})}),Object(l.jsx)("li",{className:"products__dropdown_item",children:Object(l.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return re(16)},children:"16"})})]})]})]}),K&&Object(l.jsx)(S,{}),Z&&Object(l.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!K&&!Z&&te.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"products__container",children:Object(l.jsx)("div",{className:"products__list",children:ae.map((function(e){return Object(l.jsx)(C,{product:e},e.id)}))})}),te.length>x&&Object(l.jsxs)("div",{className:"products__page_container",children:[Object(l.jsx)("li",{className:"products__page",children:Object(l.jsx)("button",{type:"button","data-cy":"prevLink",className:_()("products__page_link",{"products__page_link--disabled":B<=1}),disabled:B<=1,onClick:function(e){e.preventDefault(),B>=2&&ne(B-1),s({page:String(B-1)})},children:"\xab"})}),L(1,ce).map((function(e){return Object(l.jsx)("li",{className:"products__page",children:Object(l.jsx)("button",{type:"button","data-cy":"pageLink",className:_()("products__page_link",{"products__page_link--active":B===e}),onClick:function(t){t.preventDefault(),ne(e),s({page:String(e)})},children:e})},e)})),Object(l.jsx)("li",{className:"products__page",children:Object(l.jsx)("button",{type:"button","data-cy":"nextLink",className:_()("products__page_link",{"products__page_link--disabled":B>ce-1}),disabled:B>ce-1,"aria-disabled":B>ce-1?"true":"false",onClick:function(e){e.preventDefault(),B<=ce-1&&ne(B+1),s({page:String(B+1)})},children:"\xbb"})})]})]}),!K&&!Z&&0===te.length&&Object(l.jsx)(M,{productType:t})]})},$=function(){var e=Object(j.o)();return Object(l.jsxs)("div",{className:"goGack",children:[Object(l.jsx)("div",{className:"goGack__arrow"}),Object(l.jsx)("button",{type:"button","data-cy":"backButton","aria-label":"Go back",className:"goGack__button",onClick:function(){return e(-1)},children:"Back"})]})},J=function(e){var t=e.pathname,c=["#f0f0f0","#000","#62849c","#96999b"],a=Object(r.useState)(!1),s=Object(i.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(!1),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)(null),h=Object(i.a)(p,2),O=h[0],m=h[1],v=Object(r.useState)(null===O||void 0===O?void 0:O.images[0]),x=Object(i.a)(v,2),f=x[0],N=x[1],g=Object(r.useState)(c[0]),C=Object(i.a)(g,2),w=C[0],B=C[1],A=Object(r.useState)(64),T=Object(i.a)(A,2),P=T[0],F=T[1],E=Object(r.useState)(!1),L=Object(i.a)(E,2),R=L[0],M=L[1],G=JSON.parse(localStorage.getItem("product")),J=null===O||void 0===O?void 0:O.display.screenResolution.slice((null===O||void 0===O?void 0:O.display.screenResolution.indexOf("("))+1,(null===O||void 0===O?void 0:O.display.screenResolution.length)-1),D=null===O||void 0===O?void 0:O.display.screenResolution.slice(0,null===O||void 0===O?void 0:O.display.screenResolution.indexOf("(")),U=null===O||void 0===O?void 0:O.display.screenSize.slice(0,null===O||void 0===O?void 0:O.display.screenSize.indexOf(" ")),Q=null===O||void 0===O?void 0:O.camera.primary.slice(0,null===O||void 0===O?void 0:O.camera.primary.indexOf(" ")),H=function(e){return null===e||void 0===e?void 0:e.split("phones").join("products")},z=function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),b(!1),e.prev=2,e.next=5,c=G.id,q("/products/".concat(c,".json"));case 5:t=e.sent,m(t),N(H(t.images[0])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b(!1);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}var c}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){z()}),[]),Object(l.jsxs)("div",{className:"details",children:[Object(l.jsx)($,{}),Object(l.jsx)("h1",{className:"details__title",children:null===G||void 0===G?void 0:G.name}),n&&Object(l.jsx)(S,{}),j&&Object(l.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!n&&!j&&G&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"details__product",children:[Object(l.jsx)("div",{className:"details__photo_container",children:null===O||void 0===O?void 0:O.images.map((function(e){return Object(l.jsx)("button",{type:"button","aria-label":"image",className:_()("details__small_photo",{"details__small_photo--active":H(e)===f}),style:{backgroundImage:"url(".concat(H(e),")")},onClick:function(){N(H(e))}},e)}))}),Object(l.jsx)("button",{type:"button","aria-label":"big image",className:_()("details__photo",{"details__photo--active":R}),style:{backgroundImage:"url(".concat(f,")")},onClick:function(){return M(!R)}}),Object(l.jsxs)("div",{className:"details__characteristics",children:[Object(l.jsx)("h6",{className:"details__subtitle",children:"Available colors"}),Object(l.jsx)("div",{className:"details__color_container",children:c.map((function(e){return Object(l.jsx)("button",{type:"button",className:"details__color_button",disabled:w===e,onClick:function(){return B(e)},children:Object(l.jsx)("div",{className:_()("details__color_border",{"details__color_border--active":w===e}),children:Object(l.jsx)("div",{className:"details__color",style:{backgroundColor:"".concat(e)}})})},e)}))}),Object(l.jsx)("div",{className:"details__line"}),Object(l.jsx)("h6",{className:"details__subtitle",children:"Select capacity"}),Object(l.jsxs)("div",{className:"details__capacity_container",children:[Object(l.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){F(64)},children:Object(l.jsx)("div",{className:_()("details__capacity",{"details__capacity--active":64===P}),children:"64 GB"})}),Object(l.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){F(256)},children:Object(l.jsx)("div",{className:_()("details__capacity",{"details__capacity--active":256===P}),children:"256 GB"})}),Object(l.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){F(512)},children:Object(l.jsx)("div",{className:_()("details__capacity",{"details__capacity--active":512===P}),children:"512 GB"})})]}),Object(l.jsx)("div",{className:"details__line"}),Object(l.jsxs)("div",{className:"details__price_container",children:[0===G.discount&&Object(l.jsx)("div",{className:"details__price",children:"$".concat(G.price)}),G.price&&0!==G.discount&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"details__price",children:"$".concat(G.price-G.price*G.discount/100)}),Object(l.jsx)("div",{className:"details__price_old",children:"$".concat(G.price)})]})]}),Object(l.jsxs)("div",{className:"details__button_container",children:[Object(l.jsx)("div",{className:"details__button_add",children:"Add to cart"}),Object(l.jsx)("div",{className:"details__button_favourites"})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"details__description_container",children:[Object(l.jsx)("div",{className:"details__description",children:"Screen"}),Object(l.jsx)("div",{className:"details__value",children:"".concat(D," ").concat(U)||"-"})]}),Object(l.jsxs)("div",{className:"details__description_container",children:[Object(l.jsx)("div",{className:"details__description",children:"Resolution"}),Object(l.jsx)("div",{className:"details__value",children:J||"-"})]}),Object(l.jsxs)("div",{className:"details__description_container",children:[Object(l.jsx)("div",{className:"details__description",children:"Processor"}),Object(l.jsx)("div",{className:"details__value",children:(null===O||void 0===O?void 0:O.hardware.cpu)||"-"})]}),Object(l.jsxs)("div",{className:"details__description_container",children:[Object(l.jsx)("div",{className:"details__description",children:"RAM"}),Object(l.jsx)("div",{className:"details__value",children:(null===O||void 0===O?void 0:O.storage.ram)||"-"})]})]})]}),Object(l.jsx)("div",{className:"details__id",children:"ID: 802390"}),Object(l.jsxs)("div",{className:"details__about",children:[Object(l.jsx)("div",{className:"details__about_title",children:"About"}),Object(l.jsx)("div",{className:"details__line"}),(null===O||void 0===O?void 0:O.additionalFeatures)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"details__about_subtitle",children:"Additional Features"}),Object(l.jsx)("p",{className:"details__about_text",children:null===O||void 0===O?void 0:O.additionalFeatures})]}),(null===O||void 0===O?void 0:O.description)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"details__about_subtitle",children:"Description"}),Object(l.jsx)("p",{className:"details__about_text",children:null===O||void 0===O?void 0:O.description})]})]}),Object(l.jsxs)("div",{className:"details__about--techSpecs",children:[Object(l.jsx)("div",{className:"details__about_title",children:"Tech specs"}),Object(l.jsx)("div",{className:"details__line"}),Object(l.jsxs)("div",{className:"details__about_specs",children:[Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"Screen"}),Object(l.jsx)("div",{className:"details__about_value",children:"".concat(D," ").concat(U)||"-"})]}),Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"Resolution"}),Object(l.jsx)("div",{className:"details__about_value",children:J||"-"})]}),Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"Processor"}),Object(l.jsx)("div",{className:"details__about_value",children:(null===O||void 0===O?void 0:O.hardware.cpu)||"-"})]}),Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"RAM"}),Object(l.jsx)("div",{className:"details__about_value",children:(null===O||void 0===O?void 0:O.storage.ram)||"-"})]}),Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"Built in memory"}),Object(l.jsx)("div",{className:"details__about_value",children:(null===O||void 0===O?void 0:O.storage.flash)||"-"})]}),Object(l.jsxs)("div",{className:"details__about_container",children:[Object(l.jsx)("div",{className:"details__about_spec",children:"Camera"}),Object(l.jsx)("div",{className:"details__about_value",children:"".concat(Q," Mp")||!1})]})]})]})]}),Object(l.jsx)(I,{pathname:t,title:"You may also like",dicount:!1,random:!0})]}),!n&&!j&&!G&&Object(l.jsx)("h3",{children:"No product"}),Object(l.jsx)("div",{className:_()("details__cover",{"details__cover--active":!0===R})})]})},D=function(){var e=Object(r.useContext)(d),t=e.loadingItem,c=e.query,a=Object(r.useState)(!1),s=Object(i.a)(a,2),n=s[0],o=s[1],u=m("favourites").filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}));return Object(r.useEffect)((function(){o(!0),setTimeout((function(){o(!1)}),500)}),[]),Object(l.jsxs)("div",{className:"favourites",children:[Object(l.jsx)("h1",{className:"favourites__title",children:"Favourites"}),n?Object(l.jsx)("div",{className:"favourites__amount",children:"0 models"}):Object(l.jsx)("div",{className:"favourites__amount",children:1!==u.length?"".concat(u.length," models"):"".concat(u.length," model")}),Object(l.jsx)("div",{className:"favourites__container",children:Object(l.jsxs)("div",{className:"favourites__list",children:[n&&Object(l.jsx)("div",{className:"favourites__loader_container",children:Object(l.jsx)(S,{})}),u.length>0&&!n&&u.map((function(e,c){return c!==t?Object(l.jsx)(C,{product:e,favouritesTimeout:1e3},e.id):Object(l.jsxs)("div",{className:"favourites__list_container",children:[Object(l.jsx)(C,{product:e},e.id),Object(l.jsx)("div",{className:"favourites__list_loader",children:Object(l.jsx)(S,{})})]})})),0===m("favourites").length&&!n&&Object(l.jsx)("h2",{className:"favourites__title favourites__title--error",children:"Favourites not found"})]})})]})},U=c(25),Q=function(){var e=Object(r.useContext)(d),t=e.setProductsToBuy,c=e.loadingItem,a=e.setLoadingItem,s=Object(r.useState)(!1),n=Object(i.a)(s,2),o=n[0],u=n[1],j=function(e){a(e),setTimeout((function(){var c=[].concat(Object(N.a)(h("toBuy").slice(0,e)),Object(N.a)(h("toBuy").slice(e+1)));p("toBuy",c),t(c),a(null)}),1e3)},b=function(e,c,a){var s=Object(U.a)(Object(U.a)({},a),{},{quantity:c}),n=[].concat(Object(N.a)(h("toBuy").slice(0,e)),[s],Object(N.a)(h("toBuy").slice(e+1)));p("toBuy",n),t(n)},O=function(e,t){return e-e*t/100},m=function(){var e=0;return h("toBuy").forEach((function(t){e+=t.quantity})),e};return Object(r.useEffect)((function(){u(!0),setTimeout((function(){u(!1)}),500)}),[]),Object(l.jsxs)("div",{className:"cart",children:[Object(l.jsx)($,{}),Object(l.jsx)("h1",{className:"cart__title",children:"Cart"}),o&&Object(l.jsx)("div",{className:"cart__loader_container",children:Object(l.jsx)(S,{})}),h("toBuy").length>0&&!o&&Object(l.jsxs)("div",{className:"cart__container",children:[Object(l.jsx)("div",{className:"cart__products",children:h("toBuy").map((function(e,t){return t!==c?Object(l.jsxs)("div",{className:"cart__item",children:[Object(l.jsxs)("div",{className:"cart__content",children:[Object(l.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return j(t)}}),Object(l.jsx)("img",{className:"cart__image",src:e.product.imageUrl.split("phones").join("products"),alt:"".concat(e.product.id)}),Object(l.jsx)("h4",{className:"cart__subtitle",children:e.product.name})]}),Object(l.jsxs)("div",{className:"cart__amount",children:[Object(l.jsxs)("div",{className:"cart__quantity",children:[Object(l.jsx)("button",{type:"button","aria-label":"Remove",className:_()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return b(t,e.quantity-1,e)}}),Object(l.jsx)("div",{className:"cart__number",children:e.quantity}),Object(l.jsx)("button",{type:"button","aria-label":"Add",className:_()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return b(t,e.quantity+1,e)}})]}),0===e.product.discount?Object(l.jsx)("div",{className:"cart__price",children:"$".concat(e.product.price)}):Object(l.jsx)("div",{className:"cart__price",children:"$".concat(O(e.product.price,e.product.discount))})]})]}):Object(l.jsxs)("div",{className:"cart__list_container",children:[Object(l.jsxs)("div",{className:"cart__item",children:[Object(l.jsxs)("div",{className:"cart__content",children:[Object(l.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return j(t)}}),Object(l.jsx)("img",{className:"cart__image",src:e.product.imageUrl.split("phones").join("products"),alt:"".concat(e.product.id)}),Object(l.jsx)("h4",{className:"cart__subtitle",children:e.product.name})]}),Object(l.jsxs)("div",{className:"cart__amount",children:[Object(l.jsxs)("div",{className:"cart__quantity",children:[Object(l.jsx)("button",{type:"button","aria-label":"Remove",className:_()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return b(t,e.quantity-1,e)}}),Object(l.jsx)("div",{className:"cart__number",children:e.quantity}),Object(l.jsx)("button",{type:"button","aria-label":"Add",className:_()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return b(t,e.quantity+1,e)}})]}),0===e.product.discount?Object(l.jsx)("div",{className:"cart__price",children:"$".concat(e.product.price)}):Object(l.jsx)("div",{className:"cart__price",children:"$".concat(O(e.product.price,e.product.discount))})]})]}),Object(l.jsx)("div",{className:"cart__list_loader",children:Object(l.jsx)(S,{})})]})}))}),Object(l.jsxs)("div",{className:"cart__checkout",children:[Object(l.jsx)("h2",{className:"cart__totalCost",children:"$".concat(function(){var e=0;return h("toBuy").forEach((function(t){0===t.product.discount?e+=t.product.price*t.quantity:e+=O(t.product.price,t.product.discount)*t.quantity})),e}())}),Object(l.jsx)("div",{className:"cart__totalQuantity",children:"Total for ".concat(m()," ").concat(1===m()?"item":"items")}),Object(l.jsx)("div",{className:"cart__line"}),Object(l.jsx)("button",{type:"button","aria-label":"checkout",className:"cart__mainButton",children:"Checkout"})]})]}),0===h("toBuy").length&&!o&&Object(l.jsx)("h2",{className:"cart__title cart__title--error",children:"Products not found"})]})},H=function(){return Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)("div",{className:"footer__content",children:Object(l.jsx)("div",{className:"footer__image"})}),Object(l.jsx)("div",{className:"footer__content",children:Object(l.jsxs)("div",{className:"footer__link_container",children:[Object(l.jsx)(n.b,{to:"/",className:"footer__link",children:"GITHUB"}),Object(l.jsx)(n.b,{to:"/",className:"footer__link",children:"CONTACTS"}),Object(l.jsx)(n.b,{to:"/",className:"footer__link",children:"RIGHTS"})]})}),Object(l.jsxs)("div",{className:"footer__button_container",children:[Object(l.jsx)("div",{className:"footer__content",children:Object(l.jsx)("div",{className:"footer__button_text",children:"Back to top"})}),Object(l.jsx)("button",{type:"button","aria-label":"Scroll top",className:"footer__button"})]})]})};!function(e){e.phones="Mobile Phones",e.tablets="Tablets",e.accessories="Accessories"}(R||(R={}));var z=function(){var e=Object(r.useContext)(d).setQuery,t=Object(j.m)().pathname,c=Object(j.o)(),a=Object(n.d)(),s=Object(i.a)(a,2),o=s[0],u=s[1],b=Object(r.useState)(""),_=Object(i.a)(b,2),p=_[0],h=_[1],O=o.get("page"),m=o.get("perPage"),f=o.get("sort"),N=o.get("query"),y=JSON.parse(localStorage.getItem("product"))||null,g=function(e){Object.entries(e).forEach((function(e){var t=Object(i.a)(e,2),c=t[0],a=t[1];null===a?o.delete(c):Array.isArray(a)?(o.delete(c),a.forEach((function(e){o.append(c,String(e))}))):o.set(c,a),u(o)}))};return Object(r.useMemo)((function(){h("/phones"===t?"phones":"/tablets"===t?"tablets":"/accessories"===t?"accessories":"/favourites"===t?"favourites":""),e(""),g({query:null}),c(-1)}),[t]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(v,{filterType:p,filterQuery:N,updateSearch:g}),Object(l.jsx)("main",{style:{flexGrow:1},children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.b,{path:"/",element:Object(l.jsx)(E,{pathname:t})}),Object(l.jsx)(j.b,{path:"/home",element:Object(l.jsx)(j.a,{to:"/",replace:!0})}),Object(l.jsx)(j.b,{path:"/phones",element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(G,{productType:R.phones,pathname:t,type:"phone",updateSearch:g,page:O,sort:f,perPage:m})]})}),Object(l.jsx)(j.b,{path:"/phones/:".concat(null===y||void 0===y?void 0:y.id),element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(J,{pathname:t})]})}),Object(l.jsx)(j.b,{path:"/tablets",element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(G,{productType:R.tablets,pathname:t,type:"tablet",updateSearch:g,page:O,sort:f,perPage:m})]})}),Object(l.jsx)(j.b,{path:"/tablets/:".concat(null===y||void 0===y?void 0:y.id),element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(J,{pathname:t})]})}),Object(l.jsx)(j.b,{path:"/accessories",element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(G,{productType:R.accessories,pathname:t,type:"accessory",updateSearch:g,page:O,sort:f,perPage:m})]})}),Object(l.jsx)(j.b,{path:"/accessories/:".concat(null===y||void 0===y?void 0:y.id),element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(J,{pathname:t})]})}),Object(l.jsx)(j.b,{path:"/favourites",element:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{pathname:t}),Object(l.jsx)(D,{})]})}),Object(l.jsx)(j.b,{path:"/cart",element:Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Q,{})})}),Object(l.jsx)(j.b,{path:"/*",element:Object(l.jsx)("p",{children:"Page not found"})})]})}),Object(l.jsx)(H,{})]})};c(34);s.a.render(Object(l.jsx)(n.a,{children:Object(l.jsx)(u,{children:Object(l.jsx)(z,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.384a9786.chunk.js.map