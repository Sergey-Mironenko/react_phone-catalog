(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var s,a=c(26),n=c.n(a),i=c(7),r=c(4),o=c(1),l=c.n(o),d=function(){var e=Object(i.d)(),t=Object(r.a)(e,2),c=t[0],s=t[1];return{updateSearch:function(e){Object.entries(e).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,String(e))}))):c.set(a,n),s(c)}))},searchParams:c}};function u(e,t){var c=Object(o.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return t}})),s=Object(r.a)(c,2),a=s[0],n=s[1];return[a,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}!function(e){e.toBuy="toBuy",e.favourites="favourites",e.product="product"}(s||(s={}));var j,b=c(0),_=l.a.createContext({chosenProducts:[],setChosenProducts:function(){},productsToBuy:[],setProductsToBuy:function(){},loadingItem:"",setLoadingItem:function(){}}),h=function(e){var t=e.children,c=u(s.favourites,[]),a=Object(r.a)(c,2),n=a[0],i=a[1],l=u(s.toBuy,[]),d=Object(r.a)(l,2),j=d[0],h=d[1],p=Object(o.useState)(""),m=Object(r.a)(p,2),O={chosenProducts:n,setChosenProducts:i,productsToBuy:j,setProductsToBuy:h,loadingItem:m[0],setLoadingItem:m[1]};return Object(b.jsx)(_.Provider,{value:O,children:t})},p=c(3),m=c(27),O=c(6),v=c.n(O);!function(e){e.page="page",e.perPage="perPage",e.sort="sort",e.query="query"}(j||(j={}));var x=function(){var e=Object(o.useContext)(_),t=e.chosenProducts,c=e.productsToBuy,s=Object(p.m)().pathname,a=d().updateSearch,n=Object(i.d)(),l=Object(r.a)(n,1)[0],u=Object(o.useState)(""),h=Object(r.a)(u,2),O=h[0],x=h[1],f=l.get(j.query)||"",N=Object(m.debounce)((function(e){e.target.value?a({query:e.target.value}):a({query:null})}),1e3),y=Object(o.useCallback)(N,[s]);return Object(o.useEffect)((function(){x(f||"")}),[f]),Object(b.jsxs)("header",{className:"header",id:"header",children:[Object(b.jsxs)("nav",{className:"header__nav",children:[Object(b.jsxs)("ul",{className:"header__list",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:"header__link",to:"/#",children:Object(b.jsx)("div",{className:"header__image"})})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:function(e){var t=e.isActive;return v()("header__link",{"header__link--active":t})},to:"/",children:"HOME"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:function(e){var t=e.isActive;return v()("header__link",{"header__link--active":t})},to:"/phones",children:"PHONES"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:function(e){var t=e.isActive;return v()("header__link",{"header__link--active":t})},to:"/tablets",children:"TABLETS"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.c,{className:function(e){var t=e.isActive;return v()("header__link",{"header__link--active":t})},to:"/accessories",children:"ACCESSORIES"})})]}),Object(b.jsxs)("div",{className:"header__container",children:[Object(b.jsx)("input",{className:v()("header__filter",{"header__filter--active":""!==s.slice(1)&&3!==s.split("/").length}),type:"text",placeholder:"Search in ".concat(s.split("/")[1],"..."),disabled:""===s.slice(1),value:O,onChange:function(e){!function(e){x(e.target.value)}(e),y(e)}}),Object(b.jsxs)(i.c,{className:function(e){var t=e.isActive;return v()("header__button header__favourites",{"header__favourites--active":t})},to:"/favourites",children:[Object(b.jsx)("div",{className:"header__stroke"}),t.length>0&&Object(b.jsx)("div",{className:"header__circle",children:t.length})]}),Object(b.jsxs)(i.c,{className:function(e){var t=e.isActive;return v()("header__button header__cart",{"header__cart--active":t})},to:"/cart",children:[Object(b.jsx)("div",{className:"header__bag"}),c.length>0&&Object(b.jsx)("div",{className:"header__circle",children:c.length})]})]})]}),Object(b.jsx)("div",{className:"header__cover"})]})},f=function(){var e=Object(o.useState)(1),t=Object(r.a)(e,2),c=t[0],s=t[1],a=function(e,t,a){s(c===t?e:c+a)};return Object(o.useEffect)((function(){var e=setInterval((function(){s((function(e){return 3===e?1:e+1}))}),5e3);return function(){return clearTimeout(e)}}),[c]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"slider slider--photos",children:[Object(b.jsx)("button",{type:"button","aria-label":"Scroll left",className:"slider__button slider__button--photos",onClick:function(){return a(3,1,-1)}}),Object(b.jsx)("div",{className:"slider__container",children:[1,2,3].map((function(e){return Object(b.jsx)("div",{className:v()("slider__photo",{"slider__photo--active":e===c})},e)}))}),Object(b.jsx)("button",{type:"button","aria-label":"Scroll right",className:"slider__button slider__button--photos",onClick:function(){return a(1,3,1)}})]}),Object(b.jsxs)("div",{className:"slider__indicator_container",children:[Object(b.jsx)("button",{type:"button","aria-label":"Change photo",className:v()("slider__indicator",{"slider__indicator--active":1===c}),onClick:function(){return s(1)}}),Object(b.jsx)("button",{type:"button","aria-label":"Change photo",className:v()("slider__indicator",{"slider__indicator--active":2===c}),onClick:function(){return s(2)}}),Object(b.jsx)("button",{type:"button","aria-label":"Change photo",className:v()("slider__indicator",{"slider__indicator--active":3===c}),onClick:function(){return s(3)}})]})]})},N=c(8),y=c(9),g=c(5),k=c.n(g),C=(c(36),function(){return Object(b.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(b.jsx)("div",{className:"Loader__content"})})}),S=function(e,t,c,s,a){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;s.preventDefault();var i=e.find((function(e){return e.id===a.id}));if(i){c(i.id);var r=e.filter((function(e){return e.id!==a.id}));setTimeout((function(){t(r),c("")}),n),console.log(r,"deleting")}else{var o=[].concat(Object(N.a)(e),[a]);t(o),console.log(o,"adding")}},w=function(e,t,c,s){if(c.preventDefault(),!e.find((function(e){return e.id===s.id}))){var a=[].concat(Object(N.a)(e),[{id:s.id,quantity:1,item:s}]);console.log(a,"toByu"),t(a)}},B=function(e){var t=e.product,c=e.favouritesTimeout,s=Object(o.useContext)(_),a=s.chosenProducts,n=s.productsToBuy,r=s.setChosenProducts,l=s.setProductsToBuy,d=s.setLoadingItem;return console.log(a),t&&Object(b.jsx)(i.b,{className:"product__link",to:"/".concat(t.type,"s/").concat(t.id),children:t&&Object(b.jsxs)("div",{className:"product",children:[Object(b.jsx)("img",{className:"product__image",src:t.imageUrl.split("phones").join("products"),alt:"".concat(t.id)}),Object(b.jsx)("h3",{className:"product__title",children:t.name}),Object(b.jsx)("div",{className:"product__price_container",children:0===t.discount?Object(b.jsx)("div",{className:"product__price",children:"$".concat(t.price)}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"product__price",children:"$".concat(t.price-t.price*t.discount/100)}),Object(b.jsx)("div",{className:"product__price product__price--old",children:"$".concat(t.price)})]})}),Object(b.jsx)("div",{className:"product__line"}),Object(b.jsxs)("div",{className:"product__info_container",children:[Object(b.jsx)("div",{className:"product__info",children:"Screen"}),Object(b.jsx)("div",{className:"product__info--value",children:t.screen||"-"})]}),Object(b.jsxs)("div",{className:"product__info_container",children:[Object(b.jsx)("div",{className:"product__info",children:"Capacity"}),Object(b.jsx)("div",{className:"product__info--value",children:t.capacity||"-"})]}),Object(b.jsxs)("div",{className:"product__info_container product__info_container--last",children:[Object(b.jsx)("div",{className:"product__info",children:"RAM"}),Object(b.jsx)("div",{className:"product__info--value",children:t.ram||"-"})]}),Object(b.jsxs)("div",{className:"product__button_container",children:[Object(b.jsx)("button",{type:"button",className:v()("product__button_add",{"product__button_add--active":n.find((function(e){return e.id===t.id}))}),onClick:function(e){return w(n,l,e,t)},children:n.find((function(e){return e.id===t.id}))?"Added to cart":"Add to cart"}),Object(b.jsx)("button",{type:"button","aria-label":"favourites",className:v()("product__button_favourites",{"product__button_favourites--active":a.find((function(e){return e.id===t.id}))}),onClick:function(e){return S(a,r,d,e,t,c)}})]})]})})};B.defaultProps={favouritesTimeout:0};var T="https://mate-academy.github.io/react_phone-catalog/api";function A(e){return new Promise((function(t){setTimeout(t,e)}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),A(300).then((function(){return fetch(T+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var q,E=function(e){return P(e)},I=function(){return E("/products.json")},F=function(e){var t=e.pathname,c=e.title,s=e.dicount,a=e.random,n=Object(o.useState)(0),i=Object(r.a)(n,2),l=i[0],d=i[1],u=Object(o.useState)(!1),j=Object(r.a)(u,2),_=j[0],h=j[1],p=Object(o.useState)(!1),m=Object(r.a)(p,2),O=m[0],x=m[1],f=Object(o.useState)([]),g=Object(r.a)(f,2),S=g[0],w=g[1],T=1200,A=275*S.length+25*(S.length-1),P=function(){var e=Object(y.a)(k.a.mark((function e(){var t,c,n,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),x(!1),e.prev=2,e.next=5,I();case 5:t=e.sent,s&&!a&&w(Object(N.a)(t).filter((function(e){return e.discount>0})).sort((function(e,t){return t.price-t.price*t.discount/100-(e.price-e.price*e.discount/100)}))),s||a||w(Object(N.a)(t).filter((function(e){return e.discount<=0})).sort((function(e,t){return t.price-e.price}))),!s&&a&&(c=[],n=t.length,i=Object(N.a)(Array(n)).map((function(e,t){return t})),Object(N.a)(Array(n)).map((function(){return i.splice(Math.floor(Math.random()*i.length),1)[0]})).map((function(e){return c.push(t[e])})),w(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),x(!1);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){P()}),[t]),Object(b.jsx)("div",{className:"slider slider--phones",children:Object(b.jsxs)("div",{className:"slider__content",children:[Object(b.jsxs)("div",{className:"slider__top",children:[Object(b.jsx)("h2",{className:"slider__subtitle",children:c}),Object(b.jsxs)("div",{className:"slider__button_container",children:[Object(b.jsx)("button",{type:"button","aria-label":"Left scroll",className:v()("slider__button slider__button--phones",{"slider__button--disabled":l>-1}),disabled:l>-1,onClick:function(){d(l+T)}}),Object(b.jsx)("button",{type:"button","aria-label":"Right scroll",className:v()("slider__button slider__button--phones",{"slider__button--disabled":l-T<-A}),disabled:l-T<-A,onClick:function(){if(1199<A){var e=l-T;e-T<=-A&&d(1199-A),d(e)}}})]})]}),_&&Object(b.jsx)(C,{}),O&&Object(b.jsx)("p",{children:"No phones"}),Object(b.jsx)("div",{className:"slider__container",children:Object(b.jsx)("div",{className:"slider__photos slider__photos--phones",style:{transform:"translate(".concat(l,"px, 0)"),transition:"transform 1.2s"},children:!_&&!O&&S.map((function(e){return Object(b.jsx)(B,{product:e},e.id)}))})})]})})},L=function(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(o.useState)(0),n=Object(r.a)(a,2),l=n[0],d=n[1],u=Object(o.useState)(0),j=Object(r.a)(u,2),_=j[0],h=j[1],p=function(){var e=Object(y.a)(k.a.mark((function e(t,c){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I();case 3:s=e.sent,t(Object(N.a)(s).filter((function(e){return e.type===c})).length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){p(s,"phone"),p(d,"tablet"),p(h,"accessories")}),[]),Object(b.jsxs)("div",{className:"shopBy",children:[Object(b.jsx)("h2",{className:"shopBy__title",children:"Shop by category"}),Object(b.jsxs)("div",{className:"shopBy__content",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"shopBy__photo_container",children:Object(b.jsx)(i.b,{to:"/phones",children:Object(b.jsx)("div",{className:"shopBy__photo shopBy__photo--phones"})})}),Object(b.jsx)(i.b,{className:"shopBy__link",to:"/phones",children:"Mobile phones"}),Object(b.jsxs)("div",{className:"shopBy__text",children:[c,1===c?" model":" models"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"shopBy__photo_container",children:Object(b.jsx)(i.b,{to:"/tablets",children:Object(b.jsx)("div",{className:"shopBy__photo shopBy__photo--tablets"})})}),Object(b.jsx)(i.b,{className:"shopBy__link",to:"/tablets",children:"Tablets"}),Object(b.jsxs)("div",{className:"shopBy__text",children:[l,1===l?" model":" models"]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"shopBy__photo_container",children:Object(b.jsx)(i.b,{to:"/accessories",children:Object(b.jsx)("div",{className:"shopBy__photo shopBy__photo--accessories"})})}),Object(b.jsx)(i.b,{className:"shopBy__link",to:"/accessories",children:"Accessories"}),Object(b.jsxs)("div",{className:"shopBy__text",children:[_,1===_?" model":" models"]})]})]})]})},R=function(){var e=Object(p.m)().pathname;return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)(f,{}),Object(b.jsx)(F,{pathname:e,title:"Hot prices",dicount:!0,random:!1}),Object(b.jsx)(L,{}),Object(b.jsx)(F,{pathname:e,title:"Brand new models",dicount:!1,random:!1})]})};function G(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}!function(e){e.newest="Newest",e.alphabetically="Alphabetically",e.cheapest="Cheapest"}(q||(q={}));var $=function(e){var t=e.productType;return Object(b.jsx)("h2",{className:"noResults",children:"Ooops, ".concat(t," not found :(")})},M=function(){window.scrollTo({top:0,behavior:"smooth"})},U=function(){var e=Object(p.m)().pathname,t=e.split("/");return Object(b.jsxs)("div",{className:"navigation",children:[Object(b.jsx)(i.c,{to:"/",children:Object(b.jsx)("div",{className:"navigation__icon"})}),Object(b.jsxs)("div",{className:"navigation__location",children:[Object(b.jsx)("div",{className:"navigation__arrow"}),Object(b.jsx)(i.c,{className:v()("navigation__link",{"navigation__link--active":e.slice(1)===t[1]}),to:"/".concat(t[1]),children:t[1][0].toUpperCase()+t[1].slice(1)}),void 0!==t[2]&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"navigation__arrow"}),Object(b.jsx)("div",{className:v()("navigation__link",{"navigation__link--active":e.split("/")[2]===t[2]}),children:t[2][0].toUpperCase()+t[2].slice(1)})]})]})]})},D=function(e){var t=e.productType,c=e.type,s=Object(p.m)().pathname,a=Object(i.d)(),n=Object(r.a)(a,1)[0],l=Object(o.useState)([]),u=Object(r.a)(l,2),_=u[0],h=u[1],m=Object(o.useState)(8),O=Object(r.a)(m,2),x=O[0],f=O[1],g=Object(o.useState)(1),S=Object(r.a)(g,2),w=S[0],T=S[1],A=Object(o.useState)(!1),P=Object(r.a)(A,2),E=P[0],F=P[1],L=Object(o.useState)(!1),R=Object(r.a)(L,2),D=R[0],H=R[1],J=Object(o.useState)("Newest"),z=Object(r.a)(J,2),Q=z[0],Y=z[1],K=Object(o.useState)(!1),V=Object(r.a)(K,2),W=V[0],X=V[1],Z=Object(o.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ce=ee[1],se=n.get(j.page)||1,ae=n.get(j.perPage)||8,ne=n.get(j.sort)||"newest",ie=n.get("query"),re=Object(N.a)(_),oe=0,le=Object(N.a)(_),de=d().updateSearch,ue=function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),ce(!1),e.prev=2,e.next=5,I();case 5:t=e.sent,h(Object(N.a)(t).filter((function(e){return e.type===c}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ce(!1);case 12:return e.prev=12,X(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),je=function(e){T(e),M()},be=function(e){Y(e),F(!1),de({sort:String(e.toLowerCase()),page:String(1)})},_e=function(e){f(e),H(!1),T(1),de({page:String(1),perPage:String(e)})},he=function(e){var t=e.target;if(t&&t.className){var c=t.className;"products__dropdown_item"!==c&&"products__dropdown"!==c&&(F(!1),H(!1))}};return document.body.addEventListener("click",he),Object(o.useEffect)((function(){return ue(),Y(q.newest),f(8),document.body.removeEventListener("click",he)}),[s]),Object(o.useEffect)((function(){s&&(ne&&Y(ne[0].toUpperCase()+ne.slice(1)),se&&T(Number(se)),ae&&f(Number(ae)),F(!1),H(!1))}),[ne,se,ae,s]),ie&&(re=re.filter((function(e){return e.name.toLowerCase().includes(ie.toLowerCase())}))),Q===q.newest&&re.sort((function(e,t){return e.age-t.age})),Q===q.alphabetically&&re.sort((function(e,t){return e.name.localeCompare(t.name)})),Q===q.cheapest&&re.sort((function(e,t){return e.price-t.price})),oe=Math.ceil(re.length/x),le=Object(N.a)(re).slice(x*w-x,x*w),Object(b.jsxs)("div",{className:"products",children:[Object(b.jsx)(U,{}),Object(b.jsx)("h1",{className:"products__title",children:"".concat(t)}),W&&Object(b.jsx)("div",{className:"products__amount",children:"0 models"}),!W&&!te&&Object(b.jsx)("div",{className:"products__amount",children:"".concat(_.length," models")}),W&&Object(b.jsx)(C,{}),te&&Object(b.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!W&&!te&&re.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"products__filter_container",children:[Object(b.jsxs)("div",{className:"products__filter",children:[Object(b.jsx)("div",{className:"products__text",children:"Sort by"}),Object(b.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){F(!E)},children:Q}),Object(b.jsx)("div",{className:"products__cover"}),Object(b.jsxs)("ul",{className:v()("products__dropdown_list",{"products__dropdown_list--active":E}),children:[Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(q.newest)},children:"Newest"})}),Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(q.alphabetically)},children:"Alphabetically"})}),Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(q.cheapest)},children:"Cheapest"})})]})]}),Object(b.jsxs)("div",{className:"products__filter",children:[Object(b.jsx)("div",{className:"products__text",children:"Items on page"}),Object(b.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){H(!D)},children:x}),Object(b.jsx)("div",{className:"products__cover"}),Object(b.jsxs)("ul",{className:v()("products__dropdown_list",{"products__dropdown_list--active":D}),children:[Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return _e(4)},children:"4"})}),Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return _e(8)},children:"8"})}),Object(b.jsx)("li",{className:"products__dropdown_item",children:Object(b.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return _e(16)},children:"16"})})]})]})]}),Object(b.jsx)("div",{className:"products__container",children:le.map((function(e){return Object(b.jsx)(B,{product:e},e.id)}))}),re.length>x&&Object(b.jsxs)("div",{className:"products__page_container",children:[Object(b.jsx)("li",{className:"products__page",children:Object(b.jsx)("button",{type:"button","data-cy":"prevLink",className:v()("products__page_link",{"products__page_link--disabled":w<=1}),onClick:function(){w>=2&&je(w-1),de({page:String(w-1)})},children:"\xab"})}),G(1,oe).map((function(e){return Object(b.jsx)("li",{className:"products__page",children:Object(b.jsx)("button",{type:"button","data-cy":"pageLink",className:v()("products__page_link",{"products__page_link--active":w===e}),onClick:function(){je(e),de({page:String(e)})},children:e})},e)})),Object(b.jsx)("li",{className:"products__page",children:Object(b.jsx)("button",{type:"button","data-cy":"nextLink",className:v()("products__page_link",{"products__page_link--disabled":w>oe-1}),onClick:function(){w<=oe-1&&je(w+1),de({page:String(w+1)})},children:"\xbb"})})]})]}),!W&&!te&&0===re.length&&Object(b.jsx)($,{productType:t})]})},H=function(){var e=Object(p.o)();return Object(b.jsxs)("div",{className:"goGack",children:[Object(b.jsx)("div",{className:"goGack__arrow"}),Object(b.jsx)("button",{type:"button","data-cy":"backButton","aria-label":"Go back",className:"goGack__button",onClick:function(){return e(-1)},children:"Back"})]})},J=function(e){var t=e.favouritesTimeout,c=Object(p.q)().activeProductId,s=["#f0f0f0","#000","#62849c","#96999b"],a=Object(o.useContext)(_),n=a.chosenProducts,i=a.productsToBuy,l=a.setChosenProducts,d=a.setProductsToBuy,u=a.setLoadingItem,j=Object(p.m)().pathname,h=Object(o.useState)(!1),m=Object(r.a)(h,2),O=m[0],x=m[1],f=Object(o.useState)(!1),N=Object(r.a)(f,2),g=N[0],B=N[1],T=Object(o.useState)(null),A=Object(r.a)(T,2),P=A[0],q=A[1],L=Object(o.useState)(null===P||void 0===P?void 0:P.images[0]),R=Object(r.a)(L,2),G=R[0],M=R[1],D=Object(o.useState)(s[0]),J=Object(r.a)(D,2),z=J[0],Q=J[1],Y=Object(o.useState)(64),K=Object(r.a)(Y,2),V=K[0],W=K[1],X=Object(o.useState)(!1),Z=Object(r.a)(X,2),ee=Z[0],te=Z[1],ce=Object(o.useState)(null),se=Object(r.a)(ce,2),ae=se[0],ne=se[1],ie=j.split("/")[1],re=null===P||void 0===P?void 0:P.display.screenResolution.slice((null===P||void 0===P?void 0:P.display.screenResolution.indexOf("("))+1,(null===P||void 0===P?void 0:P.display.screenResolution.length)-1),oe=null===P||void 0===P?void 0:P.display.screenResolution.slice(0,null===P||void 0===P?void 0:P.display.screenResolution.indexOf("(")),le=null===P||void 0===P?void 0:P.display.screenSize.slice(0,null===P||void 0===P?void 0:P.display.screenSize.indexOf(" ")),de=null===P||void 0===P?void 0:P.camera.primary.slice(0,null===P||void 0===P?void 0:P.camera.primary.indexOf(" ")),ue=function(e){return null===e||void 0===e?void 0:e.split("phones").join("products")},je=function(){var e=Object(y.a)(k.a.mark((function e(){var t,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),B(!1),e.prev=2,!c){e.next=13;break}return e.next=6,E("/products/".concat(c,".json"));case 6:return t=e.sent,e.next=9,I();case 9:s=e.sent,ne(s.find((function(e){return e.id===c}))||null),q(t),M(ue(t.images[0]));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),B(!0);case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){je()}),[j]),Object(b.jsxs)("div",{className:"details",children:[O&&Object(b.jsx)(C,{}),(g||!O&&!g&&!ae)&&Object(b.jsx)($,{productType:"".concat(ie.slice(0,ie.length-1))}),!O&&!g&&ae&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsx)(H,{}),Object(b.jsx)("h1",{className:"details__title",children:null===ae||void 0===ae?void 0:ae.name}),Object(b.jsxs)("div",{className:"details__product",children:[Object(b.jsx)("div",{className:"details__photo_container",children:null===P||void 0===P?void 0:P.images.map((function(e){return Object(b.jsx)("button",{type:"button","aria-label":"image",className:v()("details__small_photo",{"details__small_photo--active":ue(e)===G}),style:{backgroundImage:"url(".concat(ue(e),")")},onClick:function(){M(ue(e))}},e)}))}),Object(b.jsx)("button",{type:"button","aria-label":"big image",className:v()("details__photo",{"details__photo--active":ee}),style:{backgroundImage:"url(".concat(G,")")},onClick:function(){return te(!ee)}}),Object(b.jsxs)("div",{className:"details__characteristics",children:[Object(b.jsx)("h6",{className:"details__subtitle",children:"Available colors"}),Object(b.jsx)("div",{className:"details__color_container",children:s.map((function(e){return Object(b.jsx)("button",{type:"button",className:"details__color_button",disabled:z===e,onClick:function(){return Q(e)},children:Object(b.jsx)("div",{className:v()("details__color_border",{"details__color_border--active":z===e}),children:Object(b.jsx)("div",{className:"details__color",style:{backgroundColor:"".concat(e)}})})},e)}))}),Object(b.jsx)("div",{className:"details__line"}),Object(b.jsx)("h6",{className:"details__subtitle",children:"Select capacity"}),Object(b.jsxs)("div",{className:"details__capacity_container",children:[Object(b.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){W(64)},children:Object(b.jsx)("div",{className:v()("details__capacity",{"details__capacity--active":64===V}),children:"64 GB"})}),Object(b.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){W(256)},children:Object(b.jsx)("div",{className:v()("details__capacity",{"details__capacity--active":256===V}),children:"256 GB"})}),Object(b.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){W(512)},children:Object(b.jsx)("div",{className:v()("details__capacity",{"details__capacity--active":512===V}),children:"512 GB"})})]}),Object(b.jsx)("div",{className:"details__line"}),Object(b.jsxs)("div",{className:"details__price_container",children:[0===ae.discount&&Object(b.jsx)("div",{className:"details__price",children:"$".concat(ae.price)}),ae.price&&0!==ae.discount&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"details__price",children:"$".concat(ae.price-ae.price*ae.discount/100)}),Object(b.jsx)("div",{className:"details__price_old",children:"$".concat(ae.price)})]})]}),Object(b.jsxs)("div",{className:"details__button_container",children:[Object(b.jsx)("button",{type:"button",className:v()("details__button_add",{"details__button_add--active":i.find((function(e){return e.id===ae.id}))}),onClick:function(e){return w(i,d,e,ae)},children:i.find((function(e){return e.id===ae.id}))?"Added to cart":"Add to cart"}),Object(b.jsx)("button",{type:"button","aria-label":"favourites",className:v()("details__button_favourites",{"details__button_favourites--active":n.find((function(e){return e.id===ae.id}))}),onClick:function(e){return S(n,l,u,e,ae,t)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"details__description_container",children:[Object(b.jsx)("div",{className:"details__description",children:"Screen"}),Object(b.jsx)("div",{className:"details__value",children:"".concat(oe," ").concat(le)||"-"})]}),Object(b.jsxs)("div",{className:"details__description_container",children:[Object(b.jsx)("div",{className:"details__description",children:"Resolution"}),Object(b.jsx)("div",{className:"details__value",children:re||"-"})]}),Object(b.jsxs)("div",{className:"details__description_container",children:[Object(b.jsx)("div",{className:"details__description",children:"Processor"}),Object(b.jsx)("div",{className:"details__value",children:(null===P||void 0===P?void 0:P.hardware.cpu)||"-"})]}),Object(b.jsxs)("div",{className:"details__description_container",children:[Object(b.jsx)("div",{className:"details__description",children:"RAM"}),Object(b.jsx)("div",{className:"details__value",children:(null===P||void 0===P?void 0:P.storage.ram)||"-"})]})]})]}),Object(b.jsx)("div",{className:"details__id",children:"ID: 802390"}),Object(b.jsxs)("div",{className:"details__about",children:[Object(b.jsx)("div",{className:"details__about_title",children:"About"}),Object(b.jsx)("div",{className:"details__line"}),(null===P||void 0===P?void 0:P.additionalFeatures)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"details__about_subtitle",children:"Additional Features"}),Object(b.jsx)("p",{className:"details__about_text",children:null===P||void 0===P?void 0:P.additionalFeatures})]}),(null===P||void 0===P?void 0:P.description)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"details__about_subtitle",children:"Description"}),Object(b.jsx)("p",{className:"details__about_text",children:null===P||void 0===P?void 0:P.description})]})]}),Object(b.jsxs)("div",{className:"details__about--techSpecs",children:[Object(b.jsx)("div",{className:"details__about_title",children:"Tech specs"}),Object(b.jsx)("div",{className:"details__line"}),Object(b.jsxs)("div",{className:"details__about_specs",children:[Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"Screen"}),Object(b.jsx)("div",{className:"details__about_value",children:"".concat(oe," ").concat(le)||"-"})]}),Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"Resolution"}),Object(b.jsx)("div",{className:"details__about_value",children:re||"-"})]}),Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"Processor"}),Object(b.jsx)("div",{className:"details__about_value",children:(null===P||void 0===P?void 0:P.hardware.cpu)||"-"})]}),Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"RAM"}),Object(b.jsx)("div",{className:"details__about_value",children:(null===P||void 0===P?void 0:P.storage.ram)||"-"})]}),Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"Built in memory"}),Object(b.jsx)("div",{className:"details__about_value",children:(null===P||void 0===P?void 0:P.storage.flash)||"-"})]}),Object(b.jsxs)("div",{className:"details__about_container",children:[Object(b.jsx)("div",{className:"details__about_spec",children:"Camera"}),Object(b.jsx)("div",{className:"details__about_value",children:"".concat(de," Mp")||!1})]})]})]})]}),Object(b.jsx)(F,{pathname:j,title:"You may also like",dicount:!1,random:!0})]}),Object(b.jsx)("div",{className:v()("details__cover",{"details__cover--active":!0===ee})})]})};J.defaultProps={favouritesTimeout:0};var z,Q=function(){var e=Object(i.d)(),t=Object(r.a)(e,1)[0].get("query")||"",c=Object(o.useContext)(_),s=c.loadingItem,a=c.chosenProducts,n=Object(o.useState)(!1),l=Object(r.a)(n,2),d=l[0],u=l[1],j=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(o.useEffect)((function(){u(!0),setTimeout((function(){u(!1)}),500)}),[]),Object(b.jsxs)("div",{className:"favourites",children:[Object(b.jsx)(U,{}),Object(b.jsx)("h1",{className:"favourites__title",children:"Favourites"}),d?Object(b.jsx)("div",{className:"favourites__amount",children:"0 models"}):Object(b.jsx)("div",{className:"favourites__amount",children:1!==j.length?"".concat(j.length," models"):"".concat(j.length," model")}),Object(b.jsx)("div",{className:"favourites__container",children:Object(b.jsxs)("div",{className:"favourites__list",children:[d&&Object(b.jsx)("div",{className:"favourites__loader_container",children:Object(b.jsx)(C,{})}),j.length>0&&!d&&j.map((function(e){return e.id!==s?Object(b.jsx)(B,{product:e,favouritesTimeout:1e3},e.id):Object(b.jsxs)("div",{className:"favourites__list_container",children:[Object(b.jsx)(B,{product:e},e.id),Object(b.jsx)("div",{className:"favourites__list_loader",children:Object(b.jsx)(C,{})})]})})),0===j.length&&!d&&Object(b.jsx)("h2",{className:"favourites__title favourites__title--error",children:"Favourites not found"})]})})]})},Y=c(25),K=function(){var e=Object(o.useContext)(_),t=e.productsToBuy,c=e.setProductsToBuy,s=e.loadingItem,a=e.setLoadingItem,n=Object(o.useState)(!1),i=Object(r.a)(n,2),l=i[0],d=i[1],u=Object(o.useState)(!1),j=Object(r.a)(u,2),h=j[0],p=j[1],m=function(e){a(e),setTimeout((function(){var s=t.filter((function(t){return t.id!==e}));c(s),a("")}),1e3)},O=function(e,s,a){var n=Object(Y.a)(Object(Y.a)({},a),{},{quantity:s}),i=[].concat(Object(N.a)(t.slice(0,e)),[n],Object(N.a)(t.slice(e+1)));c(i)},x=function(e,t){return e-e*t/100},f=function(){var e=0;return t.forEach((function(t){e+=t.quantity})),e};return Object(o.useEffect)((function(){d(!0),setTimeout((function(){d(!1)}),500)}),[]),Object(b.jsxs)("div",{className:"cart",children:[Object(b.jsx)(H,{}),Object(b.jsx)("h1",{className:"cart__title",children:"Cart"}),l&&Object(b.jsx)("div",{className:"cart__loader_container",children:Object(b.jsx)(C,{})}),t.length>0&&!l&&Object(b.jsxs)("div",{className:"cart__container",children:[Object(b.jsx)("div",{className:"cart__products",children:t.map((function(e,t){return e.id!==s?Object(b.jsxs)("div",{className:"cart__item",children:[Object(b.jsxs)("div",{className:"cart__content",children:[Object(b.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return m(e.id)}}),Object(b.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(b.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(b.jsxs)("div",{className:"cart__amount",children:[Object(b.jsxs)("div",{className:"cart__quantity",children:[Object(b.jsx)("button",{type:"button","aria-label":"Remove",className:v()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return O(t,e.quantity-1,e)}}),Object(b.jsx)("div",{className:"cart__number",children:e.quantity}),Object(b.jsx)("button",{type:"button","aria-label":"Add",className:v()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return O(t,e.quantity+1,e)}})]}),0===e.item.discount?Object(b.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(b.jsx)("div",{className:"cart__price",children:"$".concat(x(e.item.price,e.item.discount))})]})]}):Object(b.jsxs)("div",{className:"cart__list_container",children:[Object(b.jsxs)("div",{className:"cart__item",children:[Object(b.jsxs)("div",{className:"cart__content",children:[Object(b.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return m(e.id)}}),Object(b.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(b.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(b.jsxs)("div",{className:"cart__amount",children:[Object(b.jsxs)("div",{className:"cart__quantity",children:[Object(b.jsx)("button",{type:"button","aria-label":"Remove",className:v()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return O(t,e.quantity-1,e)}}),Object(b.jsx)("div",{className:"cart__number",children:e.quantity}),Object(b.jsx)("button",{type:"button","aria-label":"Add",className:v()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return O(t,e.quantity+1,e)}})]}),0===e.item.discount?Object(b.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(b.jsx)("div",{className:"cart__price",children:"$".concat(x(e.item.price,e.item.discount))})]})]}),Object(b.jsx)("div",{className:"cart__list_loader",children:Object(b.jsx)(C,{})})]})}))}),Object(b.jsxs)("div",{className:"cart__checkout",children:[Object(b.jsx)("h2",{className:"cart__totalCost",children:"$".concat(function(){var e=0;return t.forEach((function(t){0===t.item.discount?e+=t.item.price*t.quantity:e+=x(t.item.price,t.item.discount)*t.quantity})),e}())}),Object(b.jsx)("div",{className:"cart__totalQuantity",children:"Total for ".concat(f()," ").concat(1===f()?"item":"items")}),Object(b.jsx)("div",{className:"cart__line"}),Object(b.jsx)("button",{type:"button","aria-label":"checkout",className:"cart__mainButton",onClick:function(){p(!0),setTimeout((function(){p(!1)}),3e3)},children:"Checkout"}),Object(b.jsx)("div",{className:v()("cart__checkout_message",{"cart__checkout_message--active":h}),children:"Sorry, this feature is not emplemented yet."})]})]}),0===t.length&&!l&&Object(b.jsx)("h2",{className:"cart__title cart__title--error",children:"Products not found"})]})},V=function(){return Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsx)("div",{className:"footer__content",children:Object(b.jsx)(i.c,{to:"/#",onClick:M,children:Object(b.jsx)("div",{className:"footer__image"})})}),Object(b.jsx)("div",{className:"footer__content",children:Object(b.jsxs)("div",{className:"footer__link_container",children:[Object(b.jsx)(i.b,{to:"/#",className:"footer__link",onClick:M,children:"GITHUB"}),Object(b.jsx)(i.b,{to:"/#",className:"footer__link",onClick:M,children:"CONTACTS"}),Object(b.jsx)(i.b,{to:"/#",className:"footer__link",onClick:M,children:"RIGHTS"})]})}),Object(b.jsxs)("div",{className:"footer__button_container",children:[Object(b.jsx)("div",{className:"footer__content",children:Object(b.jsx)("div",{className:"footer__button_text",children:"Back to top"})}),Object(b.jsx)("button",{type:"button","aria-label":"Scroll top",className:"footer__button",onClick:M})]})]})};!function(e){e.phones="Mobile Phones",e.tablets="Tablets",e.accessories="Accessories"}(z||(z={}));var W=function(){return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(x,{}),Object(b.jsx)("main",{style:{flexGrow:1},children:Object(b.jsxs)(p.d,{children:[Object(b.jsx)(p.b,{path:"/",element:Object(b.jsx)(R,{})}),Object(b.jsx)(p.b,{path:"/home",element:Object(b.jsx)(p.a,{to:"/",replace:!0})}),Object(b.jsxs)(p.b,{path:"/phones",children:[Object(b.jsx)(p.b,{index:!0,element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{productType:z.phones,type:"phone"})})}),Object(b.jsx)(p.b,{path:":activeProductId",element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(J,{})})})]}),Object(b.jsxs)(p.b,{path:"/tablets",children:[Object(b.jsx)(p.b,{index:!0,element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{productType:z.tablets,type:"tablet"})})}),Object(b.jsx)(p.b,{path:":activeProductId",element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(J,{})})})]}),Object(b.jsxs)(p.b,{path:"/accessories",children:[Object(b.jsx)(p.b,{index:!0,element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(D,{productType:z.accessories,type:"accessory"})})}),Object(b.jsx)(p.b,{path:":activeProductId",element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(J,{})})})]}),Object(b.jsx)(p.b,{path:"/favourites",element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(Q,{})})}),Object(b.jsx)(p.b,{path:"/cart",element:Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(K,{})})}),Object(b.jsx)(p.b,{path:"/*",element:Object(b.jsx)($,{productType:"Page"})})]})}),Object(b.jsx)(V,{})]})};c(37);n.a.render(Object(b.jsx)(i.a,{children:Object(b.jsx)(h,{children:Object(b.jsx)(W,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.b5c06139.chunk.js.map