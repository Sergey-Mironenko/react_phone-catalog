(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var s,a,n=c(26),i=c.n(n),r=c(7),o=c(4),l=c(1),d=c.n(l),u=c(0),j=d.a.createContext({activeProduct:null,setActiveProduct:function(){},chosenProducts:[],setChosenProducts:function(){},productsToBuy:[],setProductsToBuy:function(){},loadingItem:null,setLoadingItem:function(){}}),b=function(e){var t=e.children,c=Object(l.useState)(null),s=Object(o.a)(c,2),a=s[0],n=s[1],i=Object(l.useState)([]),r=Object(o.a)(i,2),d=r[0],b=r[1],_=Object(l.useState)([]),h=Object(o.a)(_,2),O=h[0],m=h[1],p=Object(l.useState)(null),v=Object(o.a)(p,2),x={activeProduct:a,setActiveProduct:n,chosenProducts:d,setChosenProducts:b,productsToBuy:O,setProductsToBuy:m,loadingItem:v[0],setLoadingItem:v[1]};return Object(u.jsx)(j.Provider,{value:x,children:t})},_=c(3),h=c(27),O=c(6),m=c.n(O),p=function(){var e=Object(r.d)(),t=Object(o.a)(e,2),c=t[0],s=t[1];return{updateSearch:function(e){Object.entries(e).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];null===n?c.delete(a):Array.isArray(n)?(c.delete(a),n.forEach((function(e){c.append(a,String(e))}))):c.set(a,n),s(c)}))},searchParams:c}},v=function(e,t){localStorage.setItem(e,JSON.stringify(t))},x=function(e){return JSON.parse(localStorage.getItem(e))||[]},f=function(e,t){localStorage.setItem(e,JSON.stringify(t))},N=function(e){return JSON.parse(localStorage.getItem(e))||[]};!function(e){e.toBuy="toBuy",e.favourites="favourites",e.product="product"}(s||(s={})),function(e){e.page="page",e.perPage="perPage",e.sort="sort",e.query="query"}(a||(a={}));var y=function(){var e=Object(_.m)().pathname,t=p().updateSearch,c=Object(r.d)(),n=Object(o.a)(c,1)[0],i=Object(l.useState)(""),d=Object(o.a)(i,2),j=d[0],b=d[1],O=n.get(a.query)||"",v=Object(h.debounce)((function(e){e.target.value?t({query:e.target.value}):t({query:null})}),1e3),f=Object(l.useCallback)(v,[e]);return Object(l.useEffect)((function(){b(O||"")}),[O]),Object(u.jsxs)("header",{className:"header",id:"header",children:[Object(u.jsxs)("nav",{className:"header__nav",children:[Object(u.jsxs)("ul",{className:"header__list",children:[Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:"header__link",to:"/#",children:Object(u.jsx)("div",{className:"header__image"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:function(e){var t=e.isActive;return m()("header__link",{"header__link--active":t})},to:"/",children:"HOME"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:function(e){var t=e.isActive;return m()("header__link",{"header__link--active":t})},to:"/phones",children:"PHONES"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:function(e){var t=e.isActive;return m()("header__link",{"header__link--active":t})},to:"/tablets",children:"TABLETS"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.c,{className:function(e){var t=e.isActive;return m()("header__link",{"header__link--active":t})},to:"/accessories",children:"ACCESSORIES"})})]}),Object(u.jsxs)("div",{className:"header__container",children:[Object(u.jsx)("input",{className:m()("header__filter",{"header__filter--active":""!==e.slice(1)}),type:"text",placeholder:"Search in ".concat(e.slice(1),"..."),disabled:""===e.slice(1),value:j,onChange:function(e){!function(e){b(e.target.value)}(e),f(e)}}),Object(u.jsxs)(r.c,{className:function(e){var t=e.isActive;return m()("header__button header__favourites",{"header__favourites--active":t})},to:"/favourites",children:[Object(u.jsx)("div",{className:"header__stroke"}),N(s.favourites).length>0&&Object(u.jsx)("div",{className:"header__circle",children:N(s.favourites).length})]}),Object(u.jsxs)(r.c,{className:function(e){var t=e.isActive;return m()("header__button header__cart",{"header__cart--active":t})},to:"/cart",children:[Object(u.jsx)("div",{className:"header__bag"}),x(s.toBuy).length>0&&Object(u.jsx)("div",{className:"header__circle",children:x(s.toBuy).length})]})]})]}),Object(u.jsx)("div",{className:"header__cover"})]})},g=function(){var e=Object(_.m)().pathname,t=e.split("/");return Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsx)(r.c,{to:"/",children:Object(u.jsx)("div",{className:"navigation__icon"})}),Object(u.jsxs)("div",{className:"navigation__location",children:[Object(u.jsx)("div",{className:"navigation__arrow"}),Object(u.jsx)(r.c,{className:m()("navigation__link",{"navigation__link--active":e.slice(1)===t[1]}),to:"/".concat(t[1]),children:t[1][0].toUpperCase()+t[1].slice(1)}),void 0!==t[2]&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"navigation__arrow"}),Object(u.jsx)("div",{className:m()("navigation__link",{"navigation__link--active":e.split("/")[2]===t[2]}),children:t[2][0].toUpperCase()+t[2].slice(1)})]})]})]})},k=function(){var e=Object(l.useState)(1),t=Object(o.a)(e,2),c=t[0],s=t[1],a=function(e,t,a){s(c===t?e:c+a)};return Object(l.useEffect)((function(){var e=setInterval((function(){s((function(e){return 3===e?1:e+1}))}),5e3);return function(){return clearTimeout(e)}}),[c]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"slider slider--photos",children:[Object(u.jsx)("button",{type:"button","aria-label":"Scroll left",className:"slider__button slider__button--photos",onClick:function(){return a(3,1,-1)}}),Object(u.jsx)("div",{className:"slider__container",children:[1,2,3].map((function(e){return Object(u.jsx)("div",{className:m()("slider__photo",{"slider__photo--active":e===c})},e)}))}),Object(u.jsx)("button",{type:"button","aria-label":"Scroll right",className:"slider__button slider__button--photos",onClick:function(){return a(1,3,1)}})]}),Object(u.jsxs)("div",{className:"slider__indicator_container",children:[Object(u.jsx)("button",{type:"button","aria-label":"Change photo",className:m()("slider__indicator",{"slider__indicator--active":1===c}),onClick:function(){return s(1)}}),Object(u.jsx)("button",{type:"button","aria-label":"Change photo",className:m()("slider__indicator",{"slider__indicator--active":2===c}),onClick:function(){return s(2)}}),Object(u.jsx)("button",{type:"button","aria-label":"Change photo",className:m()("slider__indicator",{"slider__indicator--active":3===c}),onClick:function(){return s(3)}})]})]})},S=c(8),C=c(9),B=c(5),w=c.n(B),A=(c(36),function(){return Object(u.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(u.jsx)("div",{className:"Loader__content"})})}),T=function(e){var t=!1;return x(s.toBuy).forEach((function(c){return c.id===e?t=!0:t})),t},P=function(e){var t=!1;return N(s.favourites).length>0&&N(s.favourites).map((function(c){return c.id===e?t=!0:t})),t},q=function(e,t,c,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;c.preventDefault();var i=0;if(N(s.favourites).map((function(e,t){return e.id===a.id&&(i=t),null})),!1===P(a.id)){var r=[].concat(Object(S.a)(N(s.favourites)),[a]);e(r),f(s.favourites,r)}else{t(i);var o=[].concat(Object(S.a)(N(s.favourites).slice(0,i)),Object(S.a)(N(s.favourites).slice(i+1)));e(o),setTimeout((function(){f(s.favourites,o),t(null)}),n)}},E=function(e,t,c){if(t.preventDefault(),!1===T(c.id)){var a=[].concat(Object(S.a)(x(s.toBuy)),[{id:c.id,quantity:1,item:c}]);v(s.toBuy,a),e(a)}},I=function(e){var t=e.product,c=e.favouritesTimeout,a=Object(l.useContext)(j),n=a.setChosenProducts,i=a.setProductsToBuy,o=a.setLoadingItem;return Object(l.useEffect)((function(){}),[t]),t&&Object(u.jsx)(r.b,{className:"product__link",to:"/".concat(t.type,"s/").concat(t.id),onClick:function(){localStorage.setItem(s.product,JSON.stringify(t))},children:t&&Object(u.jsxs)("div",{className:"product",children:[Object(u.jsx)("img",{className:"product__image",src:t.imageUrl.split("phones").join("products"),alt:"".concat(t.id)}),Object(u.jsx)("h3",{className:"product__title",children:t.name}),Object(u.jsx)("div",{className:"product__price_container",children:0===t.discount?Object(u.jsx)("div",{className:"product__price",children:"$".concat(t.price)}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"product__price",children:"$".concat(t.price-t.price*t.discount/100)}),Object(u.jsx)("div",{className:"product__price product__price--old",children:"$".concat(t.price)})]})}),Object(u.jsx)("div",{className:"product__line"}),Object(u.jsxs)("div",{className:"product__info_container",children:[Object(u.jsx)("div",{className:"product__info",children:"Screen"}),Object(u.jsx)("div",{className:"product__info--value",children:t.screen||"-"})]}),Object(u.jsxs)("div",{className:"product__info_container",children:[Object(u.jsx)("div",{className:"product__info",children:"Capacity"}),Object(u.jsx)("div",{className:"product__info--value",children:t.capacity||"-"})]}),Object(u.jsxs)("div",{className:"product__info_container product__info_container--last",children:[Object(u.jsx)("div",{className:"product__info",children:"RAM"}),Object(u.jsx)("div",{className:"product__info--value",children:t.ram||"-"})]}),Object(u.jsxs)("div",{className:"product__button_container",children:[Object(u.jsx)("button",{type:"button",className:m()("product__button_add",{"product__button_add--active":T(t.id)}),onClick:function(e){return E(i,e,t)},children:T(t.id)?"Added to cart":"Add to cart"}),Object(u.jsx)("button",{type:"button","aria-label":"favourites",className:m()("product__button_favourites",{"product__button_favourites--active":P(t.id)}),onClick:function(e){return q(n,o,e,t,c)}})]})]})})};I.defaultProps={favouritesTimeout:0};var F="https://mate-academy.github.io/react_phone-catalog/api";function L(e){return new Promise((function(t){setTimeout(t,e)}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),L(300).then((function(){return fetch(F+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var G,$=function(e){return R(e)},J=function(){return $("/products.json")},M=function(e){var t=e.pathname,c=e.title,s=e.dicount,a=e.random,n=Object(l.useState)(0),i=Object(o.a)(n,2),r=i[0],d=i[1],j=Object(l.useState)(!1),b=Object(o.a)(j,2),_=b[0],h=b[1],O=Object(l.useState)(!1),p=Object(o.a)(O,2),v=p[0],x=p[1],f=Object(l.useState)([]),N=Object(o.a)(f,2),y=N[0],g=N[1],k=1200,B=275*y.length+25*(y.length-1),T=function(){var e=Object(C.a)(w.a.mark((function e(){var t,c,n,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),x(!1),e.prev=2,e.next=5,J();case 5:t=e.sent,s&&!a&&g(Object(S.a)(t).filter((function(e){return e.discount>0})).sort((function(e,t){return t.price-t.price*t.discount/100-(e.price-e.price*e.discount/100)}))),s||a||g(Object(S.a)(t).filter((function(e){return e.discount<=0})).sort((function(e,t){return t.price-e.price}))),!s&&a&&(c=[],n=t.length,i=Object(S.a)(Array(n)).map((function(e,t){return t})),Object(S.a)(Array(n)).map((function(){return i.splice(Math.floor(Math.random()*i.length),1)[0]})).map((function(e){return c.push(t[e])})),g(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),x(!1);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){T()}),[t]),Object(u.jsx)("div",{className:"slider slider--phones",children:Object(u.jsxs)("div",{className:"slider__content",children:[Object(u.jsxs)("div",{className:"slider__top",children:[Object(u.jsx)("h2",{className:"slider__subtitle",children:c}),Object(u.jsxs)("div",{className:"slider__button_container",children:[Object(u.jsx)("button",{type:"button","aria-label":"Left scroll",className:m()("slider__button slider__button--phones",{"slider__button--disabled":r>-1}),disabled:r>-1,onClick:function(){d(r+k)}}),Object(u.jsx)("button",{type:"button","aria-label":"Right scroll",className:m()("slider__button slider__button--phones",{"slider__button--disabled":r-k<-B}),disabled:r-k<-B,onClick:function(){if(1199<B){var e=r-k;e-k<=-B&&d(1199-B),d(e)}}})]})]}),_&&Object(u.jsx)(A,{}),v&&Object(u.jsx)("p",{children:"No phones"}),Object(u.jsx)("div",{className:"slider__container",children:Object(u.jsx)("div",{className:"slider__photos slider__photos--phones",style:{transform:"translate(".concat(r,"px, 0)"),transition:"transform 1.2s"},children:!_&&!v&&y.map((function(e){return Object(u.jsx)(I,{product:e},e.id)}))})})]})})},U=function(){var e=Object(l.useState)(0),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(l.useState)(0),n=Object(o.a)(a,2),i=n[0],d=n[1],j=Object(l.useState)(0),b=Object(o.a)(j,2),_=b[0],h=b[1],O=function(){var e=Object(C.a)(w.a.mark((function e(t,c){var s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J();case 3:s=e.sent,t(Object(S.a)(s).filter((function(e){return e.type===c})).length),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){O(s,"phone"),O(d,"tablet"),O(h,"accessories")}),[]),Object(u.jsxs)("div",{className:"shopBy",children:[Object(u.jsx)("h2",{className:"shopBy__title",children:"Shop by category"}),Object(u.jsxs)("div",{className:"shopBy__content",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"shopBy__photo_container",children:Object(u.jsx)(r.b,{to:"/phones",children:Object(u.jsx)("div",{className:"shopBy__photo shopBy__photo--phones"})})}),Object(u.jsx)(r.b,{className:"shopBy__link",to:"/phones",children:"Mobile phones"}),Object(u.jsxs)("div",{className:"shopBy__text",children:[c,1===c?" model":" models"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"shopBy__photo_container",children:Object(u.jsx)(r.b,{to:"/tablets",children:Object(u.jsx)("div",{className:"shopBy__photo shopBy__photo--tablets"})})}),Object(u.jsx)(r.b,{className:"shopBy__link",to:"/tablets",children:"Tablets"}),Object(u.jsxs)("div",{className:"shopBy__text",children:[i,1===i?" model":" models"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"shopBy__photo_container",children:Object(u.jsx)(r.b,{to:"/accessories",children:Object(u.jsx)("div",{className:"shopBy__photo shopBy__photo--accessories"})})}),Object(u.jsx)(r.b,{className:"shopBy__link",to:"/accessories",children:"Accessories"}),Object(u.jsxs)("div",{className:"shopBy__text",children:[_,1===_?" model":" models"]})]})]})]})},D=function(){var e=Object(_.m)().pathname;return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(k,{}),Object(u.jsx)(M,{pathname:e,title:"Hot prices",dicount:!0,random:!1}),Object(u.jsx)(U,{}),Object(u.jsx)(M,{pathname:e,title:"Brand new models",dicount:!1,random:!1})]})};function H(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}!function(e){e.newest="Newest",e.alphabetically="Alphabetically",e.cheapest="Cheapest"}(G||(G={}));var z=function(e){var t=e.productType;return Object(u.jsx)("h2",{className:"noResults",children:"".concat(t," not found")})},Q=function(){window.scrollTo({top:0,behavior:"smooth"})},Y=function(e){var t=e.productType,c=e.type,s=Object(_.m)().pathname,n=Object(r.d)(),i=Object(o.a)(n,1)[0],d=Object(l.useState)([]),j=Object(o.a)(d,2),b=j[0],h=j[1],O=Object(l.useState)(8),v=Object(o.a)(O,2),x=v[0],f=v[1],N=Object(l.useState)(1),y=Object(o.a)(N,2),g=y[0],k=y[1],B=Object(l.useState)(!1),T=Object(o.a)(B,2),P=T[0],q=T[1],E=Object(l.useState)(!1),F=Object(o.a)(E,2),L=F[0],R=F[1],$=Object(l.useState)("Newest"),M=Object(o.a)($,2),U=M[0],D=M[1],Y=Object(l.useState)(!1),K=Object(o.a)(Y,2),V=K[0],W=K[1],X=Object(l.useState)(!1),Z=Object(o.a)(X,2),ee=Z[0],te=Z[1],ce=i.get(a.page)||"",se=i.get(a.perPage)||"",ae=i.get(a.sort)||"",ne=i.get("query"),ie=Object(S.a)(b),re=0,oe=Object(S.a)(b),le=p().updateSearch,de=function(){var e=Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),te(!1),e.prev=2,e.next=5,J();case 5:t=e.sent,h(Object(S.a)(t).filter((function(e){return e.type===c}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),te(!1);case 12:return e.prev=12,W(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e){k(e),Q()},je=function(e){D(e),q(!1),le({sort:String(e.toLowerCase()),page:String(1)})},be=function(e){f(e),R(!1),k(1),le({page:String(1),perPage:String(e)})};return Object(l.useEffect)((function(){de(),D(G.newest),f(8)}),[s]),Object(l.useEffect)((function(){s&&(ae&&D(ae[0].toUpperCase()+ae.slice(1)),ce&&k(Number(ce)),se&&f(Number(se)),q(!1),R(!1))}),[ae,ce,se,s]),ne&&(ie=ie.filter((function(e){return e.name.toLowerCase().includes(ne.toLowerCase())}))),U===G.newest&&ie.sort((function(e,t){return e.age-t.age})),U===G.alphabetically&&ie.sort((function(e,t){return e.name.localeCompare(t.name)})),U===G.cheapest&&ie.sort((function(e,t){return e.price-t.price})),re=Math.ceil(ie.length/x),oe=Object(S.a)(ie).slice(x*g-x,x*g),Object(u.jsxs)("div",{className:"products",children:[Object(u.jsx)("h1",{className:"products__title",children:"".concat(t)}),V&&Object(u.jsx)("div",{className:"products__amount",children:"0 models"}),!V&&!ee&&Object(u.jsx)("div",{className:"products__amount",children:"".concat(b.length," models")}),V&&Object(u.jsx)(A,{}),ee&&Object(u.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!V&&!ee&&ie.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"products__filter_container",children:[Object(u.jsxs)("div",{className:"products__filter",children:[Object(u.jsx)("div",{className:"products__text",children:"Sort by"}),Object(u.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){q(!P)},onBlur:function(){return q(!1)},children:U}),Object(u.jsx)("div",{className:"products__cover"}),Object(u.jsxs)("ul",{className:m()("products__dropdown_list",{"products__dropdown_list--active":P}),children:[Object(u.jsx)("li",{className:"products__dropdown_item ",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return je(G.newest)},children:"Newest"})}),Object(u.jsx)("li",{className:"products__dropdown_item",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return je(G.alphabetically)},children:"Alphabetically"})}),Object(u.jsx)("li",{className:"products__dropdown_item",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return je(G.cheapest)},children:"Cheapest"})})]})]}),Object(u.jsxs)("div",{className:"products__filter",children:[Object(u.jsx)("div",{className:"products__text",children:"Items on page"}),Object(u.jsx)("button",{type:"button",className:"products__dropdown",onClick:function(){R(!L)},onBlur:function(){return R(!1)},children:x}),Object(u.jsx)("div",{className:"products__cover"}),Object(u.jsxs)("ul",{className:m()("products__dropdown_list",{"products__dropdown_list--active":L}),children:[Object(u.jsx)("li",{className:"products__dropdown_item",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(4)},children:"4"})}),Object(u.jsx)("li",{className:"products__dropdown_item",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(8)},children:"8"})}),Object(u.jsx)("li",{className:"products__dropdown_item",children:Object(u.jsx)("button",{type:"button",className:"products__dropdown_button",onClick:function(){return be(16)},children:"16"})})]})]})]}),Object(u.jsx)("div",{className:"products__container",children:oe.map((function(e){return Object(u.jsx)(I,{product:e},e.id)}))}),ie.length>x&&Object(u.jsxs)("div",{className:"products__page_container",children:[Object(u.jsx)("li",{className:"products__page",children:Object(u.jsx)("button",{type:"button","data-cy":"prevLink",className:m()("products__page_link",{"products__page_link--disabled":g<=1}),onClick:function(){g>=2&&ue(g-1),le({page:String(g-1)})},children:"\xab"})}),H(1,re).map((function(e){return Object(u.jsx)("li",{className:"products__page",children:Object(u.jsx)("button",{type:"button","data-cy":"pageLink",className:m()("products__page_link",{"products__page_link--active":g===e}),onClick:function(){ue(e),le({page:String(e)})},children:e})},e)})),Object(u.jsx)("li",{className:"products__page",children:Object(u.jsx)("button",{type:"button","data-cy":"nextLink",className:m()("products__page_link",{"products__page_link--disabled":g>re-1}),onClick:function(){g<=re-1&&ue(g+1),le({page:String(g+1)})},children:"\xbb"})})]})]}),!V&&!ee&&0===ie.length&&Object(u.jsx)(z,{productType:t})]})},K=function(){var e=Object(_.o)();return Object(u.jsxs)("div",{className:"goGack",children:[Object(u.jsx)("div",{className:"goGack__arrow"}),Object(u.jsx)("button",{type:"button","data-cy":"backButton","aria-label":"Go back",className:"goGack__button",onClick:function(){return e(-1)},children:"Back"})]})},V=function(e){var t=e.favouritesTimeout,c=["#f0f0f0","#000","#62849c","#96999b"],a=Object(l.useContext)(j),n=a.setChosenProducts,i=a.setProductsToBuy,r=a.setLoadingItem,d=Object(_.m)().pathname,b=Object(l.useState)(!1),h=Object(o.a)(b,2),O=h[0],p=h[1],v=Object(l.useState)(!1),x=Object(o.a)(v,2),f=x[0],N=x[1],y=Object(l.useState)(null),g=Object(o.a)(y,2),k=g[0],S=g[1],B=Object(l.useState)(null===k||void 0===k?void 0:k.images[0]),I=Object(o.a)(B,2),F=I[0],L=I[1],R=Object(l.useState)(c[0]),G=Object(o.a)(R,2),J=G[0],U=G[1],D=Object(l.useState)(64),H=Object(o.a)(D,2),z=H[0],Q=H[1],Y=Object(l.useState)(!1),V=Object(o.a)(Y,2),W=V[0],X=V[1],Z=JSON.parse(localStorage.getItem(s.product)),ee=null===k||void 0===k?void 0:k.display.screenResolution.slice((null===k||void 0===k?void 0:k.display.screenResolution.indexOf("("))+1,(null===k||void 0===k?void 0:k.display.screenResolution.length)-1),te=null===k||void 0===k?void 0:k.display.screenResolution.slice(0,null===k||void 0===k?void 0:k.display.screenResolution.indexOf("(")),ce=null===k||void 0===k?void 0:k.display.screenSize.slice(0,null===k||void 0===k?void 0:k.display.screenSize.indexOf(" ")),se=null===k||void 0===k?void 0:k.camera.primary.slice(0,null===k||void 0===k?void 0:k.camera.primary.indexOf(" ")),ae=function(e){return null===e||void 0===e?void 0:e.split("phones").join("products")},ne=function(){var e=Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),N(!1),e.prev=2,e.next=5,c=Z.id,$("/products/".concat(c,".json"));case 5:t=e.sent,S(t),L(ae(t.images[0])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),N(!1);case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}var c}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){ne()}),[null===Z||void 0===Z?void 0:Z.name]),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)(K,{}),Object(u.jsx)("h1",{className:"details__title",children:null===Z||void 0===Z?void 0:Z.name}),O&&Object(u.jsx)(A,{}),f&&Object(u.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),!O&&!f&&Z&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"details__product",children:[Object(u.jsx)("div",{className:"details__photo_container",children:null===k||void 0===k?void 0:k.images.map((function(e){return Object(u.jsx)("button",{type:"button","aria-label":"image",className:m()("details__small_photo",{"details__small_photo--active":ae(e)===F}),style:{backgroundImage:"url(".concat(ae(e),")")},onClick:function(){L(ae(e))}},e)}))}),Object(u.jsx)("button",{type:"button","aria-label":"big image",className:m()("details__photo",{"details__photo--active":W}),style:{backgroundImage:"url(".concat(F,")")},onClick:function(){return X(!W)}}),Object(u.jsxs)("div",{className:"details__characteristics",children:[Object(u.jsx)("h6",{className:"details__subtitle",children:"Available colors"}),Object(u.jsx)("div",{className:"details__color_container",children:c.map((function(e){return Object(u.jsx)("button",{type:"button",className:"details__color_button",disabled:J===e,onClick:function(){return U(e)},children:Object(u.jsx)("div",{className:m()("details__color_border",{"details__color_border--active":J===e}),children:Object(u.jsx)("div",{className:"details__color",style:{backgroundColor:"".concat(e)}})})},e)}))}),Object(u.jsx)("div",{className:"details__line"}),Object(u.jsx)("h6",{className:"details__subtitle",children:"Select capacity"}),Object(u.jsxs)("div",{className:"details__capacity_container",children:[Object(u.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){Q(64)},children:Object(u.jsx)("div",{className:m()("details__capacity",{"details__capacity--active":64===z}),children:"64 GB"})}),Object(u.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){Q(256)},children:Object(u.jsx)("div",{className:m()("details__capacity",{"details__capacity--active":256===z}),children:"256 GB"})}),Object(u.jsx)("button",{type:"button",className:"details__capacity_button",onClick:function(){Q(512)},children:Object(u.jsx)("div",{className:m()("details__capacity",{"details__capacity--active":512===z}),children:"512 GB"})})]}),Object(u.jsx)("div",{className:"details__line"}),Object(u.jsxs)("div",{className:"details__price_container",children:[0===Z.discount&&Object(u.jsx)("div",{className:"details__price",children:"$".concat(Z.price)}),Z.price&&0!==Z.discount&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"details__price",children:"$".concat(Z.price-Z.price*Z.discount/100)}),Object(u.jsx)("div",{className:"details__price_old",children:"$".concat(Z.price)})]})]}),Object(u.jsxs)("div",{className:"details__button_container",children:[Object(u.jsx)("button",{type:"button",className:m()("details__button_add",{"details__button_add--active":!0===T(Z.id)}),onClick:function(e){return E(i,e,Z)},children:!0===T(Z.id)?"Added to cart":"Add to cart"}),Object(u.jsx)("button",{type:"button","aria-label":"favourites",className:m()("details__button_favourites",{"details__button_favourites--active":P(Z.id)}),onClick:function(e){return q(n,r,e,Z,t)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"details__description_container",children:[Object(u.jsx)("div",{className:"details__description",children:"Screen"}),Object(u.jsx)("div",{className:"details__value",children:"".concat(te," ").concat(ce)||"-"})]}),Object(u.jsxs)("div",{className:"details__description_container",children:[Object(u.jsx)("div",{className:"details__description",children:"Resolution"}),Object(u.jsx)("div",{className:"details__value",children:ee||"-"})]}),Object(u.jsxs)("div",{className:"details__description_container",children:[Object(u.jsx)("div",{className:"details__description",children:"Processor"}),Object(u.jsx)("div",{className:"details__value",children:(null===k||void 0===k?void 0:k.hardware.cpu)||"-"})]}),Object(u.jsxs)("div",{className:"details__description_container",children:[Object(u.jsx)("div",{className:"details__description",children:"RAM"}),Object(u.jsx)("div",{className:"details__value",children:(null===k||void 0===k?void 0:k.storage.ram)||"-"})]})]})]}),Object(u.jsx)("div",{className:"details__id",children:"ID: 802390"}),Object(u.jsxs)("div",{className:"details__about",children:[Object(u.jsx)("div",{className:"details__about_title",children:"About"}),Object(u.jsx)("div",{className:"details__line"}),(null===k||void 0===k?void 0:k.additionalFeatures)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"details__about_subtitle",children:"Additional Features"}),Object(u.jsx)("p",{className:"details__about_text",children:null===k||void 0===k?void 0:k.additionalFeatures})]}),(null===k||void 0===k?void 0:k.description)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"details__about_subtitle",children:"Description"}),Object(u.jsx)("p",{className:"details__about_text",children:null===k||void 0===k?void 0:k.description})]})]}),Object(u.jsxs)("div",{className:"details__about--techSpecs",children:[Object(u.jsx)("div",{className:"details__about_title",children:"Tech specs"}),Object(u.jsx)("div",{className:"details__line"}),Object(u.jsxs)("div",{className:"details__about_specs",children:[Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"Screen"}),Object(u.jsx)("div",{className:"details__about_value",children:"".concat(te," ").concat(ce)||"-"})]}),Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"Resolution"}),Object(u.jsx)("div",{className:"details__about_value",children:ee||"-"})]}),Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"Processor"}),Object(u.jsx)("div",{className:"details__about_value",children:(null===k||void 0===k?void 0:k.hardware.cpu)||"-"})]}),Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"RAM"}),Object(u.jsx)("div",{className:"details__about_value",children:(null===k||void 0===k?void 0:k.storage.ram)||"-"})]}),Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"Built in memory"}),Object(u.jsx)("div",{className:"details__about_value",children:(null===k||void 0===k?void 0:k.storage.flash)||"-"})]}),Object(u.jsxs)("div",{className:"details__about_container",children:[Object(u.jsx)("div",{className:"details__about_spec",children:"Camera"}),Object(u.jsx)("div",{className:"details__about_value",children:"".concat(se," Mp")||!1})]})]})]})]}),Object(u.jsx)(M,{pathname:d,title:"You may also like",dicount:!1,random:!0})]}),!O&&!f&&!Z&&Object(u.jsx)("h3",{children:"No product"}),Object(u.jsx)("div",{className:m()("details__cover",{"details__cover--active":!0===W})})]})};V.defaultProps={favouritesTimeout:0};var W,X=function(){var e=Object(r.d)(),t=Object(o.a)(e,1)[0].get("query")||"",c=Object(l.useContext)(j).loadingItem,a=Object(l.useState)(!1),n=Object(o.a)(a,2),i=n[0],d=n[1],b=N(s.favourites).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(l.useEffect)((function(){d(!0),setTimeout((function(){d(!1)}),500)}),[]),Object(u.jsxs)("div",{className:"favourites",children:[Object(u.jsx)("h1",{className:"favourites__title",children:"Favourites"}),i?Object(u.jsx)("div",{className:"favourites__amount",children:"0 models"}):Object(u.jsx)("div",{className:"favourites__amount",children:1!==b.length?"".concat(b.length," models"):"".concat(b.length," model")}),Object(u.jsx)("div",{className:"favourites__container",children:Object(u.jsxs)("div",{className:"favourites__list",children:[i&&Object(u.jsx)("div",{className:"favourites__loader_container",children:Object(u.jsx)(A,{})}),b.length>0&&!i&&b.map((function(e,t){return t!==c?Object(u.jsx)(I,{product:e,favouritesTimeout:1e3},e.id):Object(u.jsxs)("div",{className:"favourites__list_container",children:[Object(u.jsx)(I,{product:e},e.id),Object(u.jsx)("div",{className:"favourites__list_loader",children:Object(u.jsx)(A,{})})]})})),0===N(s.favourites).length&&!i&&Object(u.jsx)("h2",{className:"favourites__title favourites__title--error",children:"Favourites not found"})]})})]})},Z=c(25),ee=function(){var e=Object(l.useContext)(j),t=e.setProductsToBuy,c=e.loadingItem,a=e.setLoadingItem,n=Object(l.useState)(!1),i=Object(o.a)(n,2),r=i[0],d=i[1],b=Object(l.useState)(!1),_=Object(o.a)(b,2),h=_[0],O=_[1],p=function(e){a(e),setTimeout((function(){var c=[].concat(Object(S.a)(x(s.toBuy).slice(0,e)),Object(S.a)(x(s.toBuy).slice(e+1)));v(s.toBuy,c),t(c),a(null)}),1e3)},f=function(e,c,a){var n=Object(Z.a)(Object(Z.a)({},a),{},{quantity:c}),i=[].concat(Object(S.a)(x(s.toBuy).slice(0,e)),[n],Object(S.a)(x(s.toBuy).slice(e+1)));v(s.toBuy,i),t(i)},N=function(e,t){return e-e*t/100},y=function(){var e=0;return x(s.toBuy).forEach((function(t){e+=t.quantity})),e};return Object(l.useEffect)((function(){d(!0),setTimeout((function(){d(!1)}),500)}),[]),Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)(K,{}),Object(u.jsx)("h1",{className:"cart__title",children:"Cart"}),r&&Object(u.jsx)("div",{className:"cart__loader_container",children:Object(u.jsx)(A,{})}),x(s.toBuy).length>0&&!r&&Object(u.jsxs)("div",{className:"cart__container",children:[Object(u.jsx)("div",{className:"cart__products",children:x(s.toBuy).map((function(e,t){return t!==c?Object(u.jsxs)("div",{className:"cart__item",children:[Object(u.jsxs)("div",{className:"cart__content",children:[Object(u.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return p(t)}}),Object(u.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(u.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(u.jsxs)("div",{className:"cart__amount",children:[Object(u.jsxs)("div",{className:"cart__quantity",children:[Object(u.jsx)("button",{type:"button","aria-label":"Remove",className:m()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return f(t,e.quantity-1,e)}}),Object(u.jsx)("div",{className:"cart__number",children:e.quantity}),Object(u.jsx)("button",{type:"button","aria-label":"Add",className:m()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return f(t,e.quantity+1,e)}})]}),0===e.item.discount?Object(u.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(u.jsx)("div",{className:"cart__price",children:"$".concat(N(e.item.price,e.item.discount))})]})]}):Object(u.jsxs)("div",{className:"cart__list_container",children:[Object(u.jsxs)("div",{className:"cart__item",children:[Object(u.jsxs)("div",{className:"cart__content",children:[Object(u.jsx)("button",{type:"button","aria-label":"Delete",className:"cart__button",onClick:function(){return p(t)}}),Object(u.jsx)("img",{className:"cart__image",src:e.item.imageUrl.split("phones").join("products"),alt:"".concat(e.item.id)}),Object(u.jsx)("h4",{className:"cart__subtitle",children:e.item.name})]}),Object(u.jsxs)("div",{className:"cart__amount",children:[Object(u.jsxs)("div",{className:"cart__quantity",children:[Object(u.jsx)("button",{type:"button","aria-label":"Remove",className:m()("cart__changeAmount cart__remove",{"cart__changeAmount--disabled":e.quantity<2}),disabled:e.quantity<2,onClick:function(){return f(t,e.quantity-1,e)}}),Object(u.jsx)("div",{className:"cart__number",children:e.quantity}),Object(u.jsx)("button",{type:"button","aria-label":"Add",className:m()("cart__changeAmount cart__add",{"cart__changeAmount--disabled":e.quantity>4}),disabled:e.quantity>4,onClick:function(){return f(t,e.quantity+1,e)}})]}),0===e.item.discount?Object(u.jsx)("div",{className:"cart__price",children:"$".concat(e.item.price)}):Object(u.jsx)("div",{className:"cart__price",children:"$".concat(N(e.item.price,e.item.discount))})]})]}),Object(u.jsx)("div",{className:"cart__list_loader",children:Object(u.jsx)(A,{})})]})}))}),Object(u.jsxs)("div",{className:"cart__checkout",children:[Object(u.jsx)("h2",{className:"cart__totalCost",children:"$".concat(function(){var e=0;return x(s.toBuy).forEach((function(t){0===t.item.discount?e+=t.item.price*t.quantity:e+=N(t.item.price,t.item.discount)*t.quantity})),e}())}),Object(u.jsx)("div",{className:"cart__totalQuantity",children:"Total for ".concat(y()," ").concat(1===y()?"item":"items")}),Object(u.jsx)("div",{className:"cart__line"}),Object(u.jsx)("button",{type:"button","aria-label":"checkout",className:"cart__mainButton",onClick:function(){O(!0),setTimeout((function(){O(!1)}),3e3)},children:"Checkout"}),Object(u.jsx)("div",{className:m()("cart__checkout_message",{"cart__checkout_message--active":h}),children:"Sorry, this feature is not emplemented yet."})]})]}),0===x(s.toBuy).length&&!r&&Object(u.jsx)("h2",{className:"cart__title cart__title--error",children:"Products not found"})]})},te=function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("div",{className:"footer__content",children:Object(u.jsx)(r.c,{to:"/#",onClick:Q,children:Object(u.jsx)("div",{className:"footer__image"})})}),Object(u.jsx)("div",{className:"footer__content",children:Object(u.jsxs)("div",{className:"footer__link_container",children:[Object(u.jsx)(r.b,{to:"/#",className:"footer__link",onClick:Q,children:"GITHUB"}),Object(u.jsx)(r.b,{to:"/#",className:"footer__link",onClick:Q,children:"CONTACTS"}),Object(u.jsx)(r.b,{to:"/#",className:"footer__link",onClick:Q,children:"RIGHTS"})]})}),Object(u.jsxs)("div",{className:"footer__button_container",children:[Object(u.jsx)("div",{className:"footer__content",children:Object(u.jsx)("div",{className:"footer__button_text",children:"Back to top"})}),Object(u.jsx)("button",{type:"button","aria-label":"Scroll top",className:"footer__button",onClick:Q})]})]})};!function(e){e.phones="Mobile Phones",e.tablets="Tablets",e.accessories="Accessories"}(W||(W={}));var ce=function(){var e=JSON.parse(localStorage.getItem(s.product))||null;return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(y,{}),Object(u.jsx)("main",{style:{flexGrow:1},children:Object(u.jsxs)(_.d,{children:[Object(u.jsx)(_.b,{path:"/",element:Object(u.jsx)(D,{})}),Object(u.jsx)(_.b,{path:"/home",element:Object(u.jsx)(_.a,{to:"/",replace:!0})}),Object(u.jsx)(_.b,{path:"/phones",element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(Y,{productType:W.phones,type:"phone"})]})}),Object(u.jsx)(_.b,{path:"/phones/:".concat(null===e||void 0===e?void 0:e.id),element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(V,{})]})}),Object(u.jsx)(_.b,{path:"/tablets",element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(Y,{productType:W.tablets,type:"tablet"})]})}),Object(u.jsx)(_.b,{path:"/tablets/:".concat(null===e||void 0===e?void 0:e.id),element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(V,{})]})}),Object(u.jsx)(_.b,{path:"/accessories",element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(Y,{productType:W.accessories,type:"accessory"})]})}),Object(u.jsx)(_.b,{path:"/accessories/:".concat(null===e||void 0===e?void 0:e.id),element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(V,{})]})}),Object(u.jsx)(_.b,{path:"/favourites",element:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(X,{})]})}),Object(u.jsx)(_.b,{path:"/cart",element:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(ee,{})})}),Object(u.jsx)(_.b,{path:"/*",element:Object(u.jsx)("p",{children:"Page not found"})})]})}),Object(u.jsx)(te,{})]})};c(37);i.a.render(Object(u.jsx)(r.a,{children:Object(u.jsx)(b,{children:Object(u.jsx)(ce,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.05a6abc4.chunk.js.map